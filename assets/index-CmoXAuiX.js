import{m2 as Rr,m3 as k,m4 as Y,m5 as A,m6 as j,m7 as kr,m8 as et,m9 as Te,ma as G,mb as jr,mc as _r,md as Pr,me as $r,mf as qr,mg as dt,mh as se,mi as Ar,mj as ge,mk as Ft,ml as zt,mm as Lr,r as f,mn as Nr,mo as Ir,j as g,A as Pn,F as ft,mp as Ur,e as Vr,Y as je,B as de,mq as Ze,mr as _t,ms as tt,l8 as $n,a2 as q,mt as Dr,mu as Or,mv as Hr,mw as Re,mx as Bt,my as Wt,mz as Fr,mA as Pt,mB as $t,mC as zr,mD as Br,Z as z,mE as nt,mF as ke,$ as V,mG as qn,mH as mt,mI as Wr,mJ as Zr,mK as Kr,l6 as qt,a1 as pt,lm as An,mL as Xr,bZ as Ln,mM as Yr,hl as Gr,g4 as Qr,mN as Jr,aP as es,lp as ts}from"./iframe-WTJCbJIS.js";import{I as J}from"./Icon-D8O7Xzrd.js";function Nn(e,t,n){switch(Rr(e,t)){case 5103:return j+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return j+e+e;case 4855:return j+e.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+e;case 4789:return Te+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return j+e+Te+e+A+e+e;case 5936:switch(Y(e,t+11)){case 114:return j+e+A+k(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return j+e+A+k(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return j+e+A+k(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return j+e+A+e+e;case 6165:return j+e+A+"flex-"+e+e;case 5187:return j+e+k(e,/(\w+).+(:[^]+)/,j+"box-$1$2"+A+"flex-$1$2")+e;case 5443:return j+e+A+"flex-item-"+k(e,/flex-|-self/g,"")+(G(e,/flex-|baseline/)?"":A+"grid-row-"+k(e,/flex-|-self/g,""))+e;case 4675:return j+e+A+"flex-line-pack"+k(e,/align-content|flex-|-self/g,"")+e;case 5548:return j+e+A+k(e,"shrink","negative")+e;case 5292:return j+e+A+k(e,"basis","preferred-size")+e;case 6060:return j+"box-"+k(e,"-grow","")+j+e+A+k(e,"grow","positive")+e;case 4554:return j+k(e,/([^-])(transform)/g,"$1"+j+"$2")+e;case 6187:return k(k(k(e,/(zoom-|grab)/,j+"$1"),/(image-set)/,j+"$1"),e,"")+e;case 5495:case 3959:return k(e,/(image-set\([^]*)/,j+"$1$`$1");case 4968:return k(k(e,/(.+:)(flex-)?(.*)/,j+"box-pack:$3"+A+"flex-pack:$3"),/space-between/,"justify")+j+e+e;case 4200:if(!G(e,/flex-|baseline/))return A+"grid-column-align"+jr(e,t)+e;break;case 2592:case 3360:return A+k(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,s){return t=s,G(r.props,/grid-\w+-end/)})?~et(e+(n=n[t].value),"span",0)?e:A+k(e,"-start","")+e+A+"grid-row-span:"+(~et(n,"span",0)?G(n,/\d+/):+G(n,/\d+/)-+G(e,/\d+/))+";":A+k(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return G(r.props,/grid-\w+-start/)})?e:A+k(k(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return k(e,/(.+)-inline(.+)/,j+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(kr(e)-1-t>6)switch(Y(e,t+1)){case 109:if(Y(e,t+4)!==45)break;case 102:return k(e,/(.+:)(.+)-([^]+)/,"$1"+j+"$2-$3$1"+Te+(Y(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~et(e,"stretch",0)?Nn(k(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return k(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,s,a,i,c,o,u){return A+s+":"+a+u+(i?A+s+"-span:"+(c?o:+o-+a)+u:"")+e});case 4949:if(Y(e,t+6)===121)return k(e,":",":"+j)+e;break;case 6444:switch(Y(e,Y(e,14)===45?18:11)){case 120:return k(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+j+(Y(e,14)===45?"inline-":"")+"box$3$1"+j+"$2$3$1"+A+"$2box$3")+e;case 100:return k(e,":",":"+A)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return k(e,"scroll-","scroll-snap-")+e}return e}function ns(e){var t=_r(e);return function(n,r,s,a){for(var i="",c=0;c<t;c++)i+=e[c](n,r,s,a)||"";return i}}function rs(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ar:e.return=Nn(e.value,e.length,n);return;case qr:return dt([se(e,{value:k(e.value,"@","@"+j)})],r);case Pr:if(e.length)return $r(n=e.props,function(s){switch(G(s,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ge(se(e,{props:[k(s,/:(read-\w+)/,":"+Te+"$1")]})),ge(se(e,{props:[s]})),Ft(e,{props:zt(n,r)});break;case"::placeholder":ge(se(e,{props:[k(s,/:(plac\w+)/,":"+j+"input-$1")]})),ge(se(e,{props:[k(s,/:(plac\w+)/,":"+Te+"$1")]})),ge(se(e,{props:[k(s,/:(plac\w+)/,A+"input-$1")]})),ge(se(e,{props:[s]})),Ft(e,{props:zt(n,r)});break}return""})}}var ss=function(e,t){t===void 0&&(t={});var n=Lr(t),r=f.useRef(void 0);Nr(function(){var s=Ir(e);if(s?.addEventListener){var a=function(d,m){var p=d.getData("text/uri-list"),h=d.getData("custom");if(h&&n.current.onDom){var y=h;try{y=JSON.parse(h)}catch{y=h}n.current.onDom(y,m);return}if(p&&n.current.onUri){n.current.onUri(p,m);return}if(d.files&&d.files.length&&n.current.onFiles){n.current.onFiles(Array.from(d.files),m);return}d.items&&d.items.length&&n.current.onText&&d.items[0].getAsString(function(v){n.current.onText(v,m)})},i=function(d){var m,p;d.preventDefault(),d.stopPropagation(),r.current=d.target,(p=(m=n.current).onDragEnter)===null||p===void 0||p.call(m,d)},c=function(d){var m,p;d.preventDefault(),(p=(m=n.current).onDragOver)===null||p===void 0||p.call(m,d)},o=function(d){var m,p;d.target===r.current&&((p=(m=n.current).onDragLeave)===null||p===void 0||p.call(m,d))},u=function(d){var m,p;d.preventDefault(),a(d.dataTransfer,d),(p=(m=n.current).onDrop)===null||p===void 0||p.call(m,d)},l=function(d){var m,p;a(d.clipboardData,d),(p=(m=n.current).onPaste)===null||p===void 0||p.call(m,d)};return s.addEventListener("dragenter",i),s.addEventListener("dragover",c),s.addEventListener("dragleave",o),s.addEventListener("drop",u),s.addEventListener("paste",l),function(){s.removeEventListener("dragenter",i),s.removeEventListener("dragover",c),s.removeEventListener("dragleave",o),s.removeEventListener("drop",u),s.removeEventListener("paste",l)}}},[],e)};function as({start:e,startClassName:t,end:n,endClassName:r,children:s,childrenClassName:a}){return g.jsx(Pn,{direction:"vertical",start:e,startClassName:t,end:n,endClassName:r,childrenClassName:a,children:s})}as.__docgenInfo={description:"",methods:[],displayName:"Chat",props:{start:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},startClassName:{required:!1,tsType:{name:"string"},description:""},end:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},endClassName:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},childrenClassName:{required:!1,tsType:{name:"string"},description:""}}};function is(e){return e.startsWith("http")||e.startsWith("https")}function ze({url:e,isImage:t}){const n=t??ft.isImage(e),r=is(e)?decodeURIComponent(e):e,s=r.split("/").pop()||r;return g.jsx("div",{className:"fea-file-view",children:n?g.jsx(Ur,{width:60,height:60,src:e}):g.jsx("div",{className:"flex h-[60px] w-[250px] items-center rounded bg-01 px-1",children:g.jsx("div",{className:"min-w-0",children:g.jsx(ft,{name:s})})})})}function os({urls:e}){return g.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(t=>g.jsx(ze,{url:t},t))})}ze.__docgenInfo={description:"",methods:[],displayName:"FileView",props:{url:{required:!0,tsType:{name:"string"},description:""},isImage:{required:!1,tsType:{name:"boolean"},description:""}}};os.__docgenInfo={description:"",methods:[],displayName:"FileViewList",props:{urls:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}};const I=[];for(let e=0;e<256;++e)I.push((e+256).toString(16).slice(1));function cs(e,t=0){return(I[e[t+0]]+I[e[t+1]]+I[e[t+2]]+I[e[t+3]]+"-"+I[e[t+4]]+I[e[t+5]]+"-"+I[e[t+6]]+I[e[t+7]]+"-"+I[e[t+8]]+I[e[t+9]]+"-"+I[e[t+10]]+I[e[t+11]]+I[e[t+12]]+I[e[t+13]]+I[e[t+14]]+I[e[t+15]]).toLowerCase()}let rt;const ls=new Uint8Array(16);function us(){if(!rt){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");rt=crypto.getRandomValues.bind(crypto)}return rt(ls)}const ds=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Zt={randomUUID:ds};function fs(e,t,n){e=e||{};const r=e.random??e.rng?.()??us();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,cs(r)}function ms(e,t,n){return Zt.randomUUID&&!e?Zt.randomUUID():fs(e)}function ps(e){const t=[.1,.2,.4,.6,.8,.9];return t[e%t.length]}function At({count:e=4,gap:t=2,color:n="white"}){return g.jsx("div",{className:"flex h-0 gap-[2px]",style:{gap:`${t}px`},children:Vr(e).map(r=>g.jsx("div",{className:je({"bg-white":n==="white","bg-primary":n==="primary"}),style:{height:"4px",width:"2px",animation:`fea-sender-rectangle-${n} infinite 1s ease-in-out ${ps(r)}s`}},r))})}function Xi(){return ms()}At.__docgenInfo={description:"",methods:[],displayName:"RecordLoading",props:{count:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"4",computed:!1}},height:{required:!1,tsType:{name:"number"},description:""},width:{required:!1,tsType:{name:"number"},description:""},gap:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"2",computed:!1}},color:{required:!1,tsType:{name:"union",raw:"'white' | 'primary'",elements:[{name:"literal",value:"'white'"},{name:"literal",value:"'primary'"}]},description:"",defaultValue:{value:"'white'",computed:!1}}}};const gs=e=>f.createElement("svg",{width:14,height:18,viewBox:"0 0 14 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},f.createElement("path",{d:"M1.46387 8.41895C1.46399 11.2488 3.75802 13.5429 6.58789 13.543C9.41782 13.543 11.7118 11.2488 11.7119 8.41895H13.1758C13.1757 11.8102 10.6136 14.6009 7.31934 14.9648V17.2031H5.85547V14.9648C2.56181 14.6004 0.000112876 11.8097 0 8.41895H1.46387ZM6.58789 0C8.60932 0 10.248 1.63873 10.248 3.66016V8.41797C10.248 10.4394 8.60932 12.0781 6.58789 12.0781C4.56664 12.0779 2.92773 10.4393 2.92773 8.41797V3.66016C2.92775 1.63887 4.56665 0.000220666 6.58789 0Z"})),In=e=>f.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"size-18 text-dbx-static-white",...e},f.createElement("path",{d:"M10.6254 20.3752V6.69549L5.47304 11.8478C4.93607 12.3848 4.0647 12.3848 3.52773 11.8478C2.99076 11.3109 2.99076 10.4395 3.52773 9.90252L11.0277 2.40252L11.1322 2.30877C11.6723 1.86801 12.4695 1.89901 12.973 2.40252L20.473 9.90252L20.5668 10.007C21.0075 10.5471 20.9766 11.3443 20.473 11.8478C19.9695 12.3513 19.1723 12.3823 18.6322 11.9416L18.5277 11.8478L13.3754 6.69549V20.3752C13.3754 21.1346 12.7598 21.7502 12.0004 21.7502C11.241 21.7502 10.6254 21.1346 10.6254 20.3752Z",fill:"currentColor"}));function Un(e){const{refText:t,loading:n,onSubmit:r,value:s,onChange:a,setType:i,allowSpeech:c}=e,o=n,u=f.useCallback(async()=>{if(o||s?.text?.trim()==="")return;const l={...s,text:s?.text?.trim()};(l.text||l.files&&l.files.length>0)&&(await Promise.resolve(r?.(l)),a?.({}),t.current?.focus())},[o,s,r,a,t]);return g.jsx("div",{className:"mr-1 flex items-center gap-2",children:c&&!s?.text?g.jsx(de,{type:"primary",shape:"circle",icon:g.jsx(J,{component:gs}),onClick:()=>i("record")}):g.jsx(de,{type:"primary",shape:"circle",icon:g.jsx(J,{component:In}),loading:o,onClick:u})})}Un.__docgenInfo={description:"",methods:[],displayName:"Actions",props:{value:{required:!1,tsType:{name:"MSenderValue"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: MSenderValue) => void",signature:{arguments:[{type:{name:"MSenderValue"},name:"value"}],return:{name:"void"}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: MSenderValue) => void | Promise<void>",signature:{arguments:[{type:{name:"MSenderValue"},name:"value"}],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:""},autoFocus:{required:!1,tsType:{name:"boolean"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},allowSpeech:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /** 录音开始时回调，如果没权限，则 reject */
  onRecordStart?: () => Promise<void>;
  /** 录音结束时回调, isSend 为 true 则发送，否则取消 */
  onRecordEnd?: (isSend: boolean) => Promise<void>;
}`,signature:{properties:[{key:"onRecordStart",value:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}},required:!1},description:"录音开始时回调，如果没权限，则 reject"},{key:"onRecordEnd",value:{name:"signature",type:"function",raw:"(isSend: boolean) => Promise<void>",signature:{arguments:[{type:{name:"boolean"},name:"isSend"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}},required:!1},description:"录音结束时回调, isSend 为 true 则发送，否则取消"}]}},description:"是否允许语音输入"},defaultType:{required:!1,tsType:{name:"union",raw:"'input' | 'record'",elements:[{name:"literal",value:"'input'"},{name:"literal",value:"'record'"}]},description:""},statement:{required:!1,tsType:{name:"string"},description:""},refText:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLTextAreaElement"}],raw:"RefObject<HTMLTextAreaElement>"},description:""},type:{required:!0,tsType:{name:"union",raw:"'input' | 'record'",elements:[{name:"literal",value:"'input'"},{name:"literal",value:"'record'"}]},description:""},setType:{required:!0,tsType:{name:"signature",type:"function",raw:"(type: 'input' | 'record') => void",signature:{arguments:[{type:{name:"union",raw:"'input' | 'record'",elements:[{name:"literal",value:"'input'"},{name:"literal",value:"'record'"}]},name:"type"}],return:{name:"void"}}},description:""}}};const hs=e=>f.createElement("svg",{width:20,height:18,viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},f.createElement("path",{d:"M14.9561 0C15.6719 -6.75109e-08 16.2617 -0.000981836 16.7402 0.0380859C17.2288 0.0780087 17.6787 0.164078 18.1006 0.378906C18.7546 0.712247 19.2867 1.24447 19.6201 1.89844C19.8351 2.32031 19.921 2.77023 19.9609 3.25879C20 3.7373 19.999 4.32705 19.999 5.04297V12.3477C19.999 13.0634 20 13.6534 19.9609 14.1318C19.921 14.6203 19.8349 15.0694 19.6201 15.4912C19.2867 16.1456 18.7549 16.6782 18.1006 17.0117C17.6786 17.2267 17.2289 17.3126 16.7402 17.3525C16.2617 17.3916 15.672 17.3906 14.9561 17.3906H5.04297C4.32702 17.3906 3.73732 17.3916 3.25879 17.3525C2.77019 17.3126 2.32034 17.2267 1.89844 17.0117C1.24428 16.6782 0.712259 16.1455 0.378906 15.4912C0.1642 15.0695 0.078011 14.6202 0.0380859 14.1318C-0.000970309 13.6534 -2.36304e-07 13.0634 0 12.3477V5.04297C-4.75188e-07 4.32705 -0.00100976 3.7373 0.0380859 3.25879C0.0780378 2.7702 0.163945 2.32032 0.378906 1.89844C0.712319 1.24436 1.24435 0.712298 1.89844 0.378906C2.32035 0.163931 2.77017 0.0780345 3.25879 0.0380859C3.73732 -0.00101134 4.32702 -3.93286e-07 5.04297 0H14.9561ZM5.04297 1.73828C4.29836 1.73828 3.79169 1.73951 3.40039 1.77148C3.01944 1.80264 2.82442 1.85944 2.68848 1.92871C2.36139 2.09541 2.09543 2.3614 1.92871 2.68848C1.85945 2.82441 1.80264 3.0195 1.77148 3.40039C1.73951 3.79168 1.73828 4.29841 1.73828 5.04297V12.3477C1.73828 13.092 1.73955 13.599 1.77148 13.9902C1.8026 14.3707 1.85956 14.5662 1.92871 14.7021C2.09537 15.0291 2.36157 15.2952 2.68848 15.4619C2.82441 15.5312 3.01958 15.588 3.40039 15.6191C3.79169 15.6511 4.29836 15.6514 5.04297 15.6514H14.9561C15.7006 15.6514 16.2073 15.6511 16.5986 15.6191C16.9796 15.588 17.1746 15.5312 17.3105 15.4619C17.6377 15.2952 17.9036 15.0293 18.0703 14.7021C18.1395 14.5662 18.1964 14.371 18.2275 13.9902C18.2595 13.599 18.2607 13.092 18.2607 12.3477V5.04297C18.2607 4.29841 18.2595 3.79168 18.2275 3.40039C18.1964 3.01955 18.1396 2.82441 18.0703 2.68848C17.9036 2.36151 17.6376 2.09536 17.3105 1.92871C17.1746 1.85954 16.9793 1.8026 16.5986 1.77148C16.2073 1.73954 15.7006 1.73828 14.9561 1.73828H5.04297ZM14.7822 12.1738C15.2625 12.1738 15.6523 12.5637 15.6523 13.0439C15.6521 13.5239 15.2623 13.9131 14.7822 13.9131H5.2168C4.73692 13.9129 4.34795 13.5238 4.34766 13.0439C4.34766 12.5638 4.73674 12.174 5.2168 12.1738H14.7822ZM6.08691 7.82617C6.56708 7.82626 6.95605 8.2161 6.95605 8.69629V9.56543C6.95592 10.0455 6.567 10.4345 6.08691 10.4346H5.2168C4.73683 10.4344 4.3478 10.0454 4.34766 9.56543V8.69629C4.34766 8.21618 4.73674 7.82639 5.2168 7.82617H6.08691ZM10.4346 7.82617C10.9148 7.82618 11.3047 8.21605 11.3047 8.69629V9.56543C11.3045 10.0456 10.9147 10.4346 10.4346 10.4346H9.56543C9.08527 10.4346 8.69545 10.0456 8.69531 9.56543V8.69629C8.69531 8.21605 9.08519 7.82617 9.56543 7.82617H10.4346ZM14.7822 7.82617C15.2624 7.82627 15.6514 8.21611 15.6514 8.69629V9.56543C15.6512 10.0455 15.2623 10.4345 14.7822 10.4346H13.9121C13.4321 10.4344 13.0431 10.0454 13.043 9.56543V8.69629C13.043 8.21618 13.432 7.82638 13.9121 7.82617H14.7822ZM6.08691 3.47852C6.56695 3.4786 6.95583 3.86766 6.95605 4.34766V5.21777C6.95585 5.69779 6.56696 6.08683 6.08691 6.08691H5.2168C4.73687 6.08669 4.34787 5.6977 4.34766 5.21777V4.34766C4.34788 3.86774 4.73688 3.47874 5.2168 3.47852H6.08691ZM10.4346 3.47852C10.9147 3.47852 11.3045 3.86761 11.3047 4.34766V5.21777C11.3045 5.69784 10.9147 6.08691 10.4346 6.08691H9.56543C9.08532 6.08691 8.69552 5.69784 8.69531 5.21777V4.34766C8.69554 3.86761 9.08533 3.47852 9.56543 3.47852H10.4346ZM14.7822 3.47852C15.2622 3.47861 15.6511 3.86767 15.6514 4.34766V5.21777C15.6512 5.69778 15.2623 6.08682 14.7822 6.08691H13.9121C13.4322 6.0867 13.0432 5.69771 13.043 5.21777V4.34766C13.0432 3.86774 13.4322 3.47872 13.9121 3.47852H14.7822Z"}));function Vn(e){const{allowSpeech:t,setType:n}=e,r=f.useRef(null),s=f.useRef(0),[a,i]=f.useState(!1),c=f.useRef(!1),[o,u]=f.useState(!1),l=f.useCallback(async h=>{h.preventDefault(),await t?.onRecordStart?.();const y=h.touches[0];s.current=y.clientY,c.current=!1,u(!1),i(!0)},[t]),d=f.useCallback(h=>{if(h.preventDefault(),!a)return;const y=h.touches[0];s.current-y.clientY>50?c.current||(c.current=!0,u(!0)):c.current&&(c.current=!1,u(!1))},[a]),m=f.useCallback(async h=>{if(h.preventDefault(),!!a){try{await t?.onRecordEnd?.(!c.current)}catch(y){console.error(y)}i(!1),u(!1),c.current=!1,s.current=0}},[t,a]),p=f.useCallback(async h=>{h.preventDefault(),await t?.onRecordEnd?.(!1),i(!1),u(!1),c.current=!1,s.current=0},[t]);return f.useEffect(()=>{const h=r.current;if(h)return h.addEventListener("touchstart",l,{passive:!1}),h.addEventListener("touchmove",d,{passive:!1}),h.addEventListener("touchend",m,{passive:!1}),h.addEventListener("touchcancel",p,{passive:!1}),()=>{h.removeEventListener("touchstart",l),h.removeEventListener("touchmove",d),h.removeEventListener("touchend",m),h.removeEventListener("touchcancel",p)}},[l,d,m,p]),g.jsxs("div",{className:je("absolute inset-0 flex items-center justify-center rounded-xl",{"bg-red-500":o,"bg-primary":!o}),children:[a?g.jsxs(g.Fragment,{children:[g.jsx(At,{count:30,gap:4}),o&&g.jsx("div",{className:"absolute top-0 -mt-[2.5em] text-red08",children:"松开取消"}),!o&&g.jsx("div",{className:"absolute top-0 -mt-[2.5em] text-03",children:"松开发送，上移取消"})]}):g.jsx("div",{className:"text-base text-white",children:"按住说话"}),g.jsx("div",{className:"absolute inset-0",ref:r}),!a&&g.jsx(de,{type:"text",shape:"circle",icon:g.jsx(J,{component:hs,className:"!text-xl text-white"}),onClick:()=>{n("input")},className:"absolute right-4"})]})}Vn.__docgenInfo={description:"",methods:[],displayName:"RecordAction",props:{value:{required:!1,tsType:{name:"MSenderValue"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: MSenderValue) => void",signature:{arguments:[{type:{name:"MSenderValue"},name:"value"}],return:{name:"void"}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: MSenderValue) => void | Promise<void>",signature:{arguments:[{type:{name:"MSenderValue"},name:"value"}],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:""},autoFocus:{required:!1,tsType:{name:"boolean"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},allowSpeech:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /** 录音开始时回调，如果没权限，则 reject */
  onRecordStart?: () => Promise<void>;
  /** 录音结束时回调, isSend 为 true 则发送，否则取消 */
  onRecordEnd?: (isSend: boolean) => Promise<void>;
}`,signature:{properties:[{key:"onRecordStart",value:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}},required:!1},description:"录音开始时回调，如果没权限，则 reject"},{key:"onRecordEnd",value:{name:"signature",type:"function",raw:"(isSend: boolean) => Promise<void>",signature:{arguments:[{type:{name:"boolean"},name:"isSend"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}},required:!1},description:"录音结束时回调, isSend 为 true 则发送，否则取消"}]}},description:"是否允许语音输入"},defaultType:{required:!1,tsType:{name:"union",raw:"'input' | 'record'",elements:[{name:"literal",value:"'input'"},{name:"literal",value:"'record'"}]},description:""},statement:{required:!1,tsType:{name:"string"},description:""}}};function ys(e){const{value:t,onChange:n,placeholder:r,refText:s,autoFocus:a}=e;return g.jsx(_t.TextArea,{ref:s,value:t?.text,autoFocus:a,onChange:i=>{n?.({...t,text:i.target.value})},placeholder:r,autoSize:{minRows:1,maxRows:3},className:"px-1 text-[15px]",variant:"borderless"})}function vs(e){const{t}=Ze();return f.useMemo(()=>({...e,placeholder:e.placeholder??t("@fe-free/ai.sender.describeYourQuestion","描述你的问题"),defaultType:e.defaultType??"input"}),[e,t])}function Cs(e){const t=f.useRef(null),n=vs(e),{statement:r,defaultType:s}=n,[a,i]=f.useState(s),c=f.useRef(null);return g.jsxs("div",{className:"fea-m-sender-wrap",children:[g.jsxs("div",{ref:c,className:je("fea-m-sender relative flex items-end rounded-xl border border-01 bg-white p-2.5"),children:[g.jsx("div",{className:"flex flex-1",children:g.jsx(ys,{...n,refText:t})}),g.jsx(Un,{...n,refText:t,type:a,setType:i}),a==="record"&&g.jsx(Vn,{...n,setType:i})]}),r&&g.jsxs("div",{className:"mt-1 text-center text-xs text-04",children:["*",r]})]})}Cs.__docgenInfo={description:"",methods:[],displayName:"MSender",props:{value:{required:!1,tsType:{name:"MSenderValue"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: MSenderValue) => void",signature:{arguments:[{type:{name:"MSenderValue"},name:"value"}],return:{name:"void"}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: MSenderValue) => void | Promise<void>",signature:{arguments:[{type:{name:"MSenderValue"},name:"value"}],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:""},autoFocus:{required:!1,tsType:{name:"boolean"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},allowSpeech:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /** 录音开始时回调，如果没权限，则 reject */
  onRecordStart?: () => Promise<void>;
  /** 录音结束时回调, isSend 为 true 则发送，否则取消 */
  onRecordEnd?: (isSend: boolean) => Promise<void>;
}`,signature:{properties:[{key:"onRecordStart",value:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}},required:!1},description:"录音开始时回调，如果没权限，则 reject"},{key:"onRecordEnd",value:{name:"signature",type:"function",raw:"(isSend: boolean) => Promise<void>",signature:{arguments:[{type:{name:"boolean"},name:"isSend"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}},required:!1},description:"录音结束时回调, isSend 为 true 则发送，否则取消"}]}},description:"是否允许语音输入"},defaultType:{required:!1,tsType:{name:"union",raw:"'input' | 'record'",elements:[{name:"literal",value:"'input'"},{name:"literal",value:"'record'"}]},description:""},statement:{required:!1,tsType:{name:"string"},description:""}}};function Kt(e){return e instanceof HTMLElement||e instanceof SVGElement}function bs(e){return e&&typeof e=="object"&&Kt(e.nativeElement)?e.nativeElement:Kt(e)?e:null}function xs(e,t,n){const r=f.useRef({});return(!("value"in r.current)||n(r.current.condition,t))&&(r.current.value=e(),r.current.condition=t),r.current.value}const ws=Symbol.for("react.element"),Ss=Symbol.for("react.transitional.element"),Ts=Symbol.for("react.fragment");function Es(e){return e&&typeof e=="object"&&(e.$$typeof===ws||e.$$typeof===Ss)&&e.type===Ts}const Ms=Number(f.version.split(".")[0]),Rs=(e,t)=>{typeof e=="function"?e(t):typeof e=="object"&&e&&"current"in e&&(e.current=t)},ks=(...e)=>{const t=e.filter(Boolean);return t.length<=1?t[0]:n=>{e.forEach(r=>{Rs(r,n)})}},js=(...e)=>xs(()=>ks(...e),e,(t,n)=>t.length!==n.length||t.every((r,s)=>r!==n[s])),_s=e=>{if(!e)return!1;if(Dn(e)&&Ms>=19)return!0;const t=tt.isMemo(e)?e.type.type:e.type;return!(typeof t=="function"&&!t.prototype?.render&&t.$$typeof!==tt.ForwardRef||typeof e=="function"&&!e.prototype?.render&&e.$$typeof!==tt.ForwardRef)};function Dn(e){return f.isValidElement(e)&&!Es(e)}const Ps=e=>{if(e&&Dn(e)){const t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};function On(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=On(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Q(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=On(e))&&(r&&(r+=" "),r+=t);return r}const $s=f.createContext({});function gt(e){const t=f.useRef(e);return t.current=e,f.useCallback((...r)=>t.current?.(...r),[])}function fe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function qs(e){const t=f.useRef(!1),[n,r]=f.useState(e);f.useEffect(()=>(t.current=!1,()=>{t.current=!0}),[]);function s(a,i){i&&t.current||r(a)}return[n,s]}let ht={};const As=e=>{};function Ls(e,t){}function Ns(e,t){}function Is(){ht={}}function Hn(e,t,n){!t&&!ht[n]&&(e(!1,n),ht[n]=!0)}function Ke(e,t){Hn(Ls,e,t)}function Us(e,t){Hn(Ns,e,t)}Ke.preMessage=As;Ke.resetWarned=Is;Ke.noteOnce=Us;function Vs(e){const[,t]=f.useReducer(a=>a+1,0),n=f.useRef(e),r=gt(()=>n.current),s=gt(a=>{n.current=typeof a=="function"?a(n.current):a,t()});return[r,s]}const F="none",$e="appear",qe="enter",Ae="leave",Xt="none",O="prepare",ie="start",oe="active",Lt="end",Fn="prepared";function Yt(e,t){const n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit${e}`]=`webkit${t}`,n[`Moz${e}`]=`moz${t}`,n[`ms${e}`]=`MS${t}`,n[`O${e}`]=`o${t.toLowerCase()}`,n}function Ds(e,t){const n={animationend:Yt("Animation","AnimationEnd"),transitionend:Yt("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}const Os=Ds(fe(),typeof window<"u"?window:{});let zn={};fe()&&({style:zn}=document.createElement("div"));const Le={};function Bn(e){if(Le[e])return Le[e];const t=Os[e];if(t){const n=Object.keys(t),r=n.length;for(let s=0;s<r;s+=1){const a=n[s];if(Object.prototype.hasOwnProperty.call(t,a)&&a in zn)return Le[e]=t[a],Le[e]}}return""}const Wn=Bn("animationend"),Zn=Bn("transitionend"),Hs=!!(Wn&&Zn),Gt=Wn||"animationend",Qt=Zn||"transitionend";function Jt(e,t){if(!e)return null;if(typeof e=="object"){const n=t.replace(/-\w/g,r=>r[1].toUpperCase());return e[n]}return`${e}-${t}`}const Fs=(e=>{const t=f.useRef();function n(s){s&&(s.removeEventListener(Qt,e),s.removeEventListener(Gt,e))}function r(s){t.current&&t.current!==s&&n(t.current),s&&s!==t.current&&(s.addEventListener(Qt,e),s.addEventListener(Gt,e),t.current=s)}return f.useEffect(()=>()=>{n(t.current),t.current=null},[]),[r,n]}),Kn=fe()?f.useLayoutEffect:f.useEffect;let Xn=e=>+setTimeout(e,16),Yn=e=>clearTimeout(e);typeof window<"u"&&"requestAnimationFrame"in window&&(Xn=e=>window.requestAnimationFrame(e),Yn=e=>window.cancelAnimationFrame(e));let en=0;const Nt=new Map;function Gn(e){Nt.delete(e)}const yt=(e,t=1)=>{en+=1;const n=en;function r(s){if(s===0)Gn(n),e();else{const a=Xn(()=>{r(s-1)});Nt.set(n,a)}}return r(t),n};yt.cancel=e=>{const t=Nt.get(e);return Gn(e),Yn(t)};const zs=(()=>{const e=f.useRef(null);function t(){yt.cancel(e.current)}function n(r,s=2){t();const a=yt(()=>{s<=1?r({isCanceled:()=>a!==e.current}):n(r,s-1)});e.current=a}return f.useEffect(()=>()=>{t()},[]),[n,t]}),Bs=[O,ie,oe,Lt],Ws=[O,Fn],Qn=!1,Zs=!0;function Jn(e){return e===oe||e===Lt}const Ks=((e,t,n)=>{const[r,s]=qs(Xt),[a,i]=zs();function c(){s(O,!0)}const o=t?Ws:Bs;return Kn(()=>{if(r!==Xt&&r!==Lt){const u=o.indexOf(r),l=o[u+1],d=n(r);d===Qn?s(l,!0):l&&a(m=>{function p(){m.isCanceled()||s(l,!0)}d===!0?p():Promise.resolve(d).then(p)})}},[e,r]),f.useEffect(()=>()=>{i()},[]),[c,r]});function Xs(e,t,n,{motionEnter:r=!0,motionAppear:s=!0,motionLeave:a=!0,motionDeadline:i,motionLeaveImmediately:c,onAppearPrepare:o,onEnterPrepare:u,onLeavePrepare:l,onAppearStart:d,onEnterStart:m,onLeaveStart:p,onAppearActive:h,onEnterActive:y,onLeaveActive:v,onAppearEnd:b,onEnterEnd:x,onLeaveEnd:w,onVisibleChanged:C}){const[S,T]=f.useState(),[M,R]=Vs(F),[L,E]=f.useState([null,null]),$=M(),_=f.useRef(!1),H=f.useRef(null);function W(){return n()}const ee=f.useRef(!1);function te(){R(F),E([null,null])}const ne=gt(P=>{const U=M();if(U===F)return;const X=W();if(P&&!P.deadline&&P.target!==X)return;const re=ee.current;let pe;U===$e&&re?pe=b?.(X,P):U===qe&&re?pe=x?.(X,P):U===Ae&&re&&(pe=w?.(X,P)),re&&pe!==!1&&te()}),[_e]=Fs(ne),be=P=>{switch(P){case $e:return{[O]:o,[ie]:d,[oe]:h};case qe:return{[O]:u,[ie]:m,[oe]:y};case Ae:return{[O]:l,[ie]:p,[oe]:v};default:return{}}},me=f.useMemo(()=>be($),[$]),[Pe,Z]=Ks($,!e,P=>{if(P===O){const U=me[O];return U?U(W()):Qn}return P in me&&E([me[P]?.(W(),null)||null,P]),P===oe&&$!==F&&(_e(W()),i>0&&(clearTimeout(H.current),H.current=setTimeout(()=>{ne({deadline:!0})},i))),P===Fn&&te(),Zs}),Qe=Jn(Z);ee.current=Qe;const xe=f.useRef(null);Kn(()=>{if(_.current&&xe.current===t)return;T(t);const P=_.current;_.current=!0;let U;!P&&t&&s&&(U=$e),P&&t&&r&&(U=qe),(P&&!t&&a||!P&&c&&!t&&a)&&(U=Ae);const X=be(U);U&&(e||X[O])?(R(U),Pe()):R(F),xe.current=t},[t]),f.useEffect(()=>{($===$e&&!s||$===qe&&!r||$===Ae&&!a)&&R(F)},[s,r,a]),f.useEffect(()=>()=>{_.current=!1,clearTimeout(H.current)},[]);const D=f.useRef(!1);f.useEffect(()=>{S&&(D.current=!0),S!==void 0&&$===F&&((D.current||S)&&C?.(S),D.current=!0)},[S,$]);let K=L[0];me[O]&&Z===ie&&(K={transition:"none",...K});const Je=L[1];return[M,Z,K,S??t,Z===ie||Z===oe?Je===Z:!0]}function Ys(e){let t=e;typeof e=="object"&&({transitionSupport:t}=e);function n(s,a){return!!(s.motionName&&t&&a!==!1)}const r=f.forwardRef((s,a)=>{const{visible:i=!0,removeOnLeave:c=!0,forceRender:o,children:u,motionName:l,leavedClassName:d,eventProps:m}=s,{motion:p}=f.useContext($s),h=n(s,p),y=f.useRef();function v(){return bs(y.current)}const[b,x,w,C,S]=Xs(h,i,v,s),T=b(),M=f.useRef(C);C&&(M.current=!0);const R=f.useMemo(()=>{const E={};return Object.defineProperties(E,{nativeElement:{enumerable:!0,get:v},inMotion:{enumerable:!0,get:()=>()=>b()!==F},enableMotion:{enumerable:!0,get:()=>()=>h}}),E},[]);f.useImperativeHandle(a,()=>R,[]);const L=f.useRef(0);return S&&(L.current+=1),f.useMemo(()=>{let E;const $={...m,visible:i};if(!u)E=null;else if(T===F)C?E=u({...$},y):!c&&M.current&&d?E=u({...$,className:d},y):o||!c&&!d?E=u({...$,style:{display:"none"}},y):E=null;else{let _;x===O?_="prepare":Jn(x)?_="active":x===ie&&(_="start");const H=Jt(l,`${T}-${_}`);E=u({...$,className:Q(Jt(l,T),{[H]:H&&_,[l]:typeof l=="string"}),style:w},y)}return f.isValidElement(E)&&_s(E)&&(Ps(E)||(E=f.cloneElement(E,{ref:y}))),E},[L.current])});return r.displayName="CSSMotion",r}const Gs=Ys(Hs);var Ne={},tn;function Qs(){if(tn)return Ne;tn=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=i;const n=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`.split(/[\s\n]+/),r="aria-",s="data-";function a(c,o){return c.indexOf(o)===0}function i(c,o=!1){let u;o===!1?u={aria:!0,data:!0,attr:!0}:o===!0?u={aria:!0}:u={...o};const l={};return Object.keys(c).forEach(d=>{(u.aria&&(d==="role"||a(d,r))||u.data&&a(d,s)||u.attr&&n.includes(d))&&(l[d]=c[d])}),l}return Ne}var Js=Qs();const ea=$n(Js);function ta(e,t){return f.useImperativeHandle(e,()=>{const n=t(),{nativeElement:r}=n;return new Proxy(r,{get(s,a){return n[a]?n[a]:Reflect.get(s,a)}})})}const na=q.createContext({}),ra={classNames:{},styles:{},className:"",style:{},shortcutKeys:{}},sa=e=>{const t=q.useContext(na);return q.useMemo(()=>({...ra,...t[e]}),[t[e]])},aa="ant";function vt(){const{getPrefixCls:e,direction:t,csp:n,iconPrefixCls:r,theme:s}=q.useContext(Dr.ConfigContext);return{theme:s,getPrefixCls:e,direction:t,csp:n,iconPrefixCls:r}}const It=f.createContext({}),ia={aliceblue:"9ehhb",antiquewhite:"9sgk7",aqua:"1ekf",aquamarine:"4zsno",azure:"9eiv3",beige:"9lhp8",bisque:"9zg04",black:"0",blanchedalmond:"9zhe5",blue:"73",blueviolet:"5e31e",brown:"6g016",burlywood:"8ouiv",cadetblue:"3qba8",chartreuse:"4zshs",chocolate:"87k0u",coral:"9yvyo",cornflowerblue:"3xael",cornsilk:"9zjz0",crimson:"8l4xo",cyan:"1ekf",darkblue:"3v",darkcyan:"rkb",darkgoldenrod:"776yz",darkgray:"6mbhl",darkgreen:"jr4",darkgrey:"6mbhl",darkkhaki:"7ehkb",darkmagenta:"5f91n",darkolivegreen:"3bzfz",darkorange:"9yygw",darkorchid:"5z6x8",darkred:"5f8xs",darksalmon:"9441m",darkseagreen:"5lwgf",darkslateblue:"2th1n",darkslategray:"1ugcv",darkslategrey:"1ugcv",darkturquoise:"14up",darkviolet:"5rw7n",deeppink:"9yavn",deepskyblue:"11xb",dimgray:"442g9",dimgrey:"442g9",dodgerblue:"16xof",firebrick:"6y7tu",floralwhite:"9zkds",forestgreen:"1cisi",fuchsia:"9y70f",gainsboro:"8m8kc",ghostwhite:"9pq0v",goldenrod:"8j4f4",gold:"9zda8",gray:"50i2o",green:"pa8",greenyellow:"6senj",grey:"50i2o",honeydew:"9eiuo",hotpink:"9yrp0",indianred:"80gnw",indigo:"2xcoy",ivory:"9zldc",khaki:"9edu4",lavenderblush:"9ziet",lavender:"90c8q",lawngreen:"4vk74",lemonchiffon:"9zkct",lightblue:"6s73a",lightcoral:"9dtog",lightcyan:"8s1rz",lightgoldenrodyellow:"9sjiq",lightgray:"89jo3",lightgreen:"5nkwg",lightgrey:"89jo3",lightpink:"9z6wx",lightsalmon:"9z2ii",lightseagreen:"19xgq",lightskyblue:"5arju",lightslategray:"4nwk9",lightslategrey:"4nwk9",lightsteelblue:"6wau6",lightyellow:"9zlcw",lime:"1edc",limegreen:"1zcxe",linen:"9shk6",magenta:"9y70f",maroon:"4zsow",mediumaquamarine:"40eju",mediumblue:"5p",mediumorchid:"79qkz",mediumpurple:"5r3rv",mediumseagreen:"2d9ip",mediumslateblue:"4tcku",mediumspringgreen:"1di2",mediumturquoise:"2uabw",mediumvioletred:"7rn9h",midnightblue:"z980",mintcream:"9ljp6",mistyrose:"9zg0x",moccasin:"9zfzp",navajowhite:"9zest",navy:"3k",oldlace:"9wq92",olive:"50hz4",olivedrab:"472ub",orange:"9z3eo",orangered:"9ykg0",orchid:"8iu3a",palegoldenrod:"9bl4a",palegreen:"5yw0o",paleturquoise:"6v4ku",palevioletred:"8k8lv",papayawhip:"9zi6t",peachpuff:"9ze0p",peru:"80oqn",pink:"9z8wb",plum:"8nba5",powderblue:"6wgdi",purple:"4zssg",rebeccapurple:"3zk49",red:"9y6tc",rosybrown:"7cv4f",royalblue:"2jvtt",saddlebrown:"5fmkz",salmon:"9rvci",sandybrown:"9jn1c",seagreen:"1tdnb",seashell:"9zje6",sienna:"6973h",silver:"7ir40",skyblue:"5arjf",slateblue:"45e4t",slategray:"4e100",slategrey:"4e100",snow:"9zke2",springgreen:"1egv",steelblue:"2r1kk",tan:"87yx8",teal:"pds",thistle:"8ggk8",tomato:"9yqfb",turquoise:"2j4r4",violet:"9b10u",wheat:"9ld4j",white:"9zldr",whitesmoke:"9lhpx",yellow:"9zl6o",yellowgreen:"61fzm"},N=Math.round;function st(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(s=>parseFloat(s));for(let s=0;s<3;s+=1)r[s]=t(r[s]||0,n[s]||"",s);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const nn=(e,t,n)=>n===0?e:e/100;function we(e,t){const n=t||255;return e>n?n:e<0?0:e}class ye{isValid=!0;r=0;g=0;b=0;a=1;_h;_s;_l;_v;_max;_min;_brightness;constructor(t){function n(r){return r[0]in t&&r[1]in t&&r[2]in t}if(t)if(typeof t=="string"){let s=function(a){return r.startsWith(a)};const r=t.trim();if(/^#?[A-F\d]{3,8}$/i.test(r))this.fromHexString(r);else if(s("rgb"))this.fromRgbString(r);else if(s("hsl"))this.fromHslString(r);else if(s("hsv")||s("hsb"))this.fromHsvString(r);else{const a=ia[r.toLowerCase()];a&&this.fromHexString(parseInt(a,36).toString(16).padStart(6,"0"))}}else if(t instanceof ye)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(n("rgb"))this.r=we(t.r),this.g=we(t.g),this.b=we(t.b),this.a=typeof t.a=="number"?we(t.a,1):1;else if(n("hsl"))this.fromHsl(t);else if(n("hsv"))this.fromHsv(t);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t))}setR(t){return this._sc("r",t)}setG(t){return this._sc("g",t)}setB(t){return this._sc("b",t)}setA(t){return this._sc("a",t,1)}setHue(t){const n=this.toHsv();return n.h=t,this._c(n)}getLuminance(){function t(a){const i=a/255;return i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}const n=t(this.r),r=t(this.g),s=t(this.b);return .2126*n+.7152*r+.0722*s}getHue(){if(typeof this._h>"u"){const t=this.getMax()-this.getMin();t===0?this._h=0:this._h=N(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){const n=this.getHue(),r=this.getSaturation();let s=this.getLightness()-t/100;return s<0&&(s=0),this._c({h:n,s:r,l:s,a:this.a})}lighten(t=10){const n=this.getHue(),r=this.getSaturation();let s=this.getLightness()+t/100;return s>1&&(s=1),this._c({h:n,s:r,l:s,a:this.a})}mix(t,n=50){const r=this._c(t),s=n/100,a=c=>(r[c]-this[c])*s+this[c],i={r:N(a("r")),g:N(a("g")),b:N(a("b")),a:N(a("a")*100)/100};return this._c(i)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){const n=this._c(t),r=this.a+n.a*(1-this.a),s=a=>N((this[a]*this.a+n[a]*n.a*(1-this.a))/r);return this._c({r:s("r"),g:s("g"),b:s("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t="#";const n=(this.r||0).toString(16);t+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);t+=r.length===2?r:"0"+r;const s=(this.b||0).toString(16);if(t+=s.length===2?s:"0"+s,typeof this.a=="number"&&this.a>=0&&this.a<1){const a=N(this.a*255).toString(16);t+=a.length===2?a:"0"+a}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const t=this.getHue(),n=N(this.getSaturation()*100),r=N(this.getLightness()*100);return this.a!==1?`hsla(${t},${n}%,${r}%,${this.a})`:`hsl(${t},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(t,n,r){const s=this.clone();return s[t]=we(n,r),s}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){const n=t.replace("#","");function r(s,a){return parseInt(n[s]+n[a||s],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:t,s:n,l:r,a:s}){if(this._h=t%360,this._s=n,this._l=r,this.a=typeof s=="number"?s:1,n<=0){const m=N(r*255);this.r=m,this.g=m,this.b=m}let a=0,i=0,c=0;const o=t/60,u=(1-Math.abs(2*r-1))*n,l=u*(1-Math.abs(o%2-1));o>=0&&o<1?(a=u,i=l):o>=1&&o<2?(a=l,i=u):o>=2&&o<3?(i=u,c=l):o>=3&&o<4?(i=l,c=u):o>=4&&o<5?(a=l,c=u):o>=5&&o<6&&(a=u,c=l);const d=r-u/2;this.r=N((a+d)*255),this.g=N((i+d)*255),this.b=N((c+d)*255)}fromHsv({h:t,s:n,v:r,a:s}){this._h=t%360,this._s=n,this._v=r,this.a=typeof s=="number"?s:1;const a=N(r*255);if(this.r=a,this.g=a,this.b=a,n<=0)return;const i=t/60,c=Math.floor(i),o=i-c,u=N(r*(1-n)*255),l=N(r*(1-n*o)*255),d=N(r*(1-n*(1-o))*255);switch(c){case 0:this.g=d,this.b=u;break;case 1:this.r=l,this.b=u;break;case 2:this.r=u,this.b=d;break;case 3:this.r=u,this.g=l;break;case 4:this.r=d,this.g=u;break;default:this.g=u,this.b=l;break}}fromHsvString(t){const n=st(t,nn);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(t){const n=st(t,nn);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(t){const n=st(t,(r,s)=>s.includes("%")?N(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}const Ie=2,rn=.16,oa=.05,ca=.05,la=.15,er=5,tr=4,ua=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function sn(e,t,n){let r;return Math.round(e.h)>=60&&Math.round(e.h)<=240?r=n?Math.round(e.h)-Ie*t:Math.round(e.h)+Ie*t:r=n?Math.round(e.h)+Ie*t:Math.round(e.h)-Ie*t,r<0?r+=360:r>=360&&(r-=360),r}function an(e,t,n){if(e.h===0&&e.s===0)return e.s;let r;return n?r=e.s-rn*t:t===tr?r=e.s+rn:r=e.s+oa*t,r>1&&(r=1),n&&t===er&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function on(e,t,n){let r;return n?r=e.v+ca*t:r=e.v-la*t,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function da(e,t={}){const n=[],r=new ye(e),s=r.toHsv();for(let a=er;a>0;a-=1){const i=new ye({h:sn(s,a,!0),s:an(s,a,!0),v:on(s,a,!0)});n.push(i)}n.push(r);for(let a=1;a<=tr;a+=1){const i=new ye({h:sn(s,a),s:an(s,a),v:on(s,a)});n.push(i)}return t.theme==="dark"?ua.map(({index:a,amount:i})=>new ye(t.backgroundColor||"#141414").mix(n[a],i).toHexString()):n.map(a=>a.toHexString())}const Ct=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Ct.primary=Ct[5];function fa(e,t){if(!e)return!1;if(e.contains)return e.contains(t);let n=t;for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const cn="data-rc-order",ln="data-rc-priority",ma="rc-util-key",bt=new Map;function nr({mark:e}={}){return e?e.startsWith("data-")?e:`data-${e}`:ma}function Xe(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function pa(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function Ut(e){return Array.from((bt.get(e)||e).children).filter(t=>t.tagName==="STYLE")}function rr(e,t={}){if(!fe())return null;const{csp:n,prepend:r,priority:s=0}=t,a=pa(r),i=a==="prependQueue",c=document.createElement("style");c.setAttribute(cn,a),i&&s&&c.setAttribute(ln,`${s}`),n?.nonce&&(c.nonce=n?.nonce),c.innerHTML=e;const o=Xe(t),{firstChild:u}=o;if(r){if(i){const l=(t.styles||Ut(o)).filter(d=>{if(!["prepend","prependQueue"].includes(d.getAttribute(cn)))return!1;const m=Number(d.getAttribute(ln)||0);return s>=m});if(l.length)return o.insertBefore(c,l[l.length-1].nextSibling),c}o.insertBefore(c,u)}else o.appendChild(c);return c}function sr(e,t={}){let{styles:n}=t;return n||=Ut(Xe(t)),n.find(r=>r.getAttribute(nr(t))===e)}function ar(e,t={}){const n=sr(e,t);n&&Xe(t).removeChild(n)}function ga(e,t){const n=bt.get(e);if(!n||!fa(document,n)){const r=rr("",t),{parentNode:s}=r;bt.set(e,s),e.removeChild(r)}}function ve(e,t,n={}){const r=Xe(n),s=Ut(r),a={...n,styles:s};ga(r,a);const i=sr(t,a);if(i)return a.csp?.nonce&&i.nonce!==a.csp?.nonce&&(i.nonce=a.csp?.nonce),i.innerHTML!==e&&(i.innerHTML=e),i;const c=rr(e,a);return c.setAttribute(nr(a),t),c}function ir(e){return e?.getRootNode?.()}function ha(e){return ir(e)instanceof ShadowRoot}function ya(e){return ha(e)?ir(e):null}function va(e){return e.replace(/-(.)/g,(t,n)=>n.toUpperCase())}function xt(e,t){Ke(e,`[@ant-design/icons] ${t}`)}function un(e){return typeof e=="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(typeof e.icon=="object"||typeof e.icon=="function")}function dn(e={}){return Object.keys(e).reduce((t,n)=>{const r=e[n];return n==="class"?(t.className=r,delete t.class):(delete t[n],t[va(n)]=r),t},{})}function wt(e,t,n){return n?q.createElement(e.tag,{key:t,...dn(e.attrs),...n},(e.children||[]).map((r,s)=>wt(r,`${t}-${e.tag}-${s}`))):q.createElement(e.tag,{key:t,...dn(e.attrs)},(e.children||[]).map((r,s)=>wt(r,`${t}-${e.tag}-${s}`)))}function or(e){return da(e)[0]}function cr(e){return e?Array.isArray(e)?e:[e]:[]}const Ca={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},ba=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
  vertical-align: inherit;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,lr=e=>{const{csp:t,prefixCls:n,layer:r}=f.useContext(It);let s=ba;n&&(s=s.replace(/anticon/g,n)),r&&(s=`@layer ${r} {
${s}
}`),f.useEffect(()=>{const a=e.current,i=ya(a);ve(s,"@ant-design-icons",{prepend:!r,csp:t,attachTo:i})},[])},Ee={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function xa({primaryColor:e,secondaryColor:t}){Ee.primaryColor=e,Ee.secondaryColor=t||or(e),Ee.calculated=!!t}function wa(){return{...Ee}}const Ce=e=>{const{icon:t,className:n,onClick:r,style:s,primaryColor:a,secondaryColor:i,...c}=e,o=f.useRef(null);let u=Ee;if(a&&(u={primaryColor:a,secondaryColor:i||or(a)}),lr(o),xt(un(t),`icon should be icon definiton, but got ${t}`),!un(t))return null;let l=t;return l&&typeof l.icon=="function"&&(l={...l,icon:l.icon(u.primaryColor,u.secondaryColor)}),wt(l.icon,`svg-${l.name}`,{className:n,onClick:r,style:s,"data-icon":l.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",...c,ref:o})};Ce.displayName="IconReact";Ce.getTwoToneColors=wa;Ce.setTwoToneColors=xa;function ur(e){const[t,n]=cr(e);return Ce.setTwoToneColors({primaryColor:t,secondaryColor:n})}function Sa(){const e=Ce.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}function St(){return St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},St.apply(this,arguments)}ur(Ct.primary);const Ye=f.forwardRef((e,t)=>{const{className:n,icon:r,spin:s,rotate:a,tabIndex:i,onClick:c,twoToneColor:o,...u}=e,{prefixCls:l="anticon",rootClassName:d}=f.useContext(It),m=Q(d,l,{[`${l}-${r.name}`]:!!r.name,[`${l}-spin`]:!!s||r.name==="loading"},n);let p=i;p===void 0&&c&&(p=-1);const h=a?{msTransform:`rotate(${a}deg)`,transform:`rotate(${a}deg)`}:void 0,[y,v]=cr(o);return f.createElement("span",St({role:"img","aria-label":r.name},u,{ref:t,tabIndex:p,onClick:c,className:m}),f.createElement(Ce,{icon:r,primaryColor:y,secondaryColor:v,style:h}))});Ye.getTwoToneColor=Sa;Ye.setTwoToneColor=ur;function Tt(){return Tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tt.apply(this,arguments)}const Ta=(e,t)=>f.createElement(Ye,Tt({},e,{ref:t,icon:Or})),Ea=f.forwardRef(Ta);function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Et.apply(this,arguments)}const Ma=(e,t)=>f.createElement(Ye,Et({},e,{ref:t,icon:Hr})),Ra=f.forwardRef(Ma);function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be.apply(this,arguments)}const ka=f.forwardRef((e,t)=>{const{className:n,component:r,viewBox:s,spin:a,rotate:i,tabIndex:c,onClick:o,children:u,...l}=e,d=f.useRef(null),m=js(d,t);xt(!!(r||u),"Should have `component` prop or `children`."),lr(d);const{prefixCls:p="anticon",rootClassName:h}=f.useContext(It),y=Q(h,p,{[`${p}-spin`]:!!a&&!!r},n),v=Q({[`${p}-spin`]:!!a}),b=i?{msTransform:`rotate(${i}deg)`,transform:`rotate(${i}deg)`}:void 0,x={...Ca,className:v,style:b,viewBox:s};s||delete x.viewBox;const w=()=>r?f.createElement(r,x,u):u?(xt(!!s||f.Children.count(u)===1&&f.isValidElement(u)&&f.Children.only(u).type==="use","Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),f.createElement("svg",Be({},x,{viewBox:s}),u)):null;let C=c;return C===void 0&&o&&(C=-1),f.createElement("span",Be({role:"img"},l,{ref:m,tabIndex:C,onClick:o,className:y}),w())}),ja="%";function Mt(e){return e.join(ja)}let fn=0;class _a{instanceId;constructor(t){this.instanceId=t}cache=new Map;updateTimes=new Map;extracted=new Set;get(t){return this.opGet(Mt(t))}opGet(t){return this.cache.get(t)||null}update(t,n){return this.opUpdate(Mt(t),n)}opUpdate(t,n){const r=this.cache.get(t),s=n(r);s===null?(this.cache.delete(t),this.updateTimes.delete(t)):(this.cache.set(t,s),this.updateTimes.set(t,fn),fn+=1)}}const Vt="data-token-hash",B="data-css-hash",le="__cssinjs_instance__";function Pa(){const e=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){const t=document.body.querySelectorAll(`style[${B}]`)||[],{firstChild:n}=document.head;Array.from(t).forEach(s=>{s[le]||=e,s[le]===e&&document.head.insertBefore(s,n)});const r={};Array.from(document.querySelectorAll(`style[${B}]`)).forEach(s=>{const a=s.getAttribute(B);r[a]?s[le]===e&&s.parentNode?.removeChild(s):r[a]=!0})}return new _a(e)}const Ge=f.createContext({hashPriority:"low",cache:Pa(),defaultCache:!0,autoPrefix:!1});function $a(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}class We{static MAX_CACHE_SIZE=20;static MAX_CACHE_OFFSET=5;cache;keys;cacheCallTimes;constructor(){this.cache=new Map,this.keys=[],this.cacheCallTimes=0}size(){return this.keys.length}internalGet(t,n=!1){let r={map:this.cache};return t.forEach(s=>{r?r=r?.map?.get(s):r=void 0}),r?.value&&n&&(r.value[1]=this.cacheCallTimes++),r?.value}get(t){return this.internalGet(t,!0)?.[0]}has(t){return!!this.internalGet(t)}set(t,n){if(!this.has(t)){if(this.size()+1>We.MAX_CACHE_SIZE+We.MAX_CACHE_OFFSET){const[s]=this.keys.reduce((a,i)=>{const[,c]=a;return this.internalGet(i)[1]<c?[i,this.internalGet(i)[1]]:a},[this.keys[0],this.cacheCallTimes]);this.delete(s)}this.keys.push(t)}let r=this.cache;t.forEach((s,a)=>{if(a===t.length-1)r.set(s,{value:[n,this.cacheCallTimes++]});else{const i=r.get(s);i?i.map||(i.map=new Map):r.set(s,{map:new Map}),r=r.get(s).map}})}deleteByPath(t,n){const r=t.get(n[0]);if(n.length===1)return r.map?t.set(n[0],{map:r.map}):t.delete(n[0]),r.value?.[0];const s=this.deleteByPath(r.map,n.slice(1));return(!r.map||r.map.size===0)&&!r.value&&t.delete(n[0]),s}delete(t){if(this.has(t))return this.keys=this.keys.filter(n=>!$a(n,t)),this.deleteByPath(this.cache,t)}}let mn=0;class dr{derivatives;id;constructor(t){this.derivatives=Array.isArray(t)?t:[t],this.id=mn,t.length===0&&(t.length>0,void 0),mn+=1}getDerivativeToken(t){return this.derivatives.reduce((n,r)=>r(t,n),void 0)}}const at=new We;function qa(e){const t=Array.isArray(e)?e:[e];return at.has(t)||at.set(t,new dr(t)),at.get(t)}const Aa=new WeakMap,it={};function La(e,t){let n=Aa;for(let r=0;r<t.length;r+=1){const s=t[r];n.has(s)||n.set(s,new WeakMap),n=n.get(s)}return n.has(it)||n.set(it,e()),n.get(it)}const pn=new WeakMap;function Me(e){let t=pn.get(e)||"";return t||(Object.keys(e).forEach(n=>{const r=e[n];t+=n,r instanceof dr?t+=r.id:r&&typeof r=="object"?t+=Me(r):t+=r}),t=Re(t),pn.set(e,t)),t}function Na(e,t){return Re(`${t}_${Me(e)}`)}const Rt=fe();function gn(e){return typeof e=="number"?`${e}px`:e}function fr(e){const{hashCls:t,hashPriority:n="low"}=e||{};if(!t)return"";const r=`.${t}`;return n==="low"?`:where(${r})`:r}const Ia=e=>e!=null,He=(e,t="")=>`--${t?`${t}-`:""}${e}`.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase(),Ua=(e,t,n)=>{const{hashCls:r,hashPriority:s="low"}=n||{};return Object.keys(e).length?`${fr({hashCls:r,hashPriority:s})}.${t}${n?.scope?`.${n.scope}`:""}{${Object.entries(e).map(([a,i])=>`${a}:${i};`).join("")}}`:""},mr=(e,t,n)=>{const{hashCls:r,hashPriority:s="low",prefix:a,unitless:i,ignore:c,preserve:o}=n||{},u={},l={};return Object.entries(e).forEach(([d,m])=>{if(o?.[d])l[d]=m;else if((typeof m=="string"||typeof m=="number")&&!c?.[d]){const p=He(d,a);u[p]=typeof m=="number"&&!i?.[d]?`${m}px`:String(m),l[d]=`var(${p})`}}),[l,Ua(u,t,{scope:n?.scope,hashCls:r,hashPriority:s})]},Ue=new Map;function Dt(e,t,n,r,s){const{cache:a}=f.useContext(Ge),i=[e,...t],c=Mt(i),o=d=>{a.opUpdate(c,m=>{const[p=0,h]=m||[void 0,void 0],v=h||n(),b=[p,v];return d?d(b):b})};f.useMemo(()=>{o()},[c]);const l=a.opGet(c)[1];return f.useInsertionEffect(()=>(o(([d,m])=>[d+1,m]),Ue.has(c)||(s?.(l),Ue.set(c,!0),Promise.resolve().then(()=>{Ue.delete(c)})),()=>{a.opUpdate(c,d=>{const[m=0,p]=d||[];return m-1===0?(r?.(p,!1),Ue.delete(c),null):[m-1,p]})}),[c]),l}const Va={},Da="css",ce=new Map;function Oa(e){ce.set(e,(ce.get(e)||0)+1)}function Ha(e,t){typeof document<"u"&&document.querySelectorAll(`style[${Vt}="${e}"]`).forEach(r=>{r[le]===t&&r.parentNode?.removeChild(r)})}const Fa=-1;function za(e,t){ce.set(e,(ce.get(e)||0)-1);const n=new Set;ce.forEach((r,s)=>{r<=0&&n.add(s)}),ce.size-n.size>Fa&&n.forEach(r=>{Ha(r,t),ce.delete(r)})}const Ba=(e,t,n,r)=>{let a={...n.getDerivativeToken(e),...t};return r&&(a=r(a)),a},Wa="token";function Za(e,t,n){const{cache:{instanceId:r},container:s,hashPriority:a}=f.useContext(Ge),{salt:i="",override:c=Va,formatToken:o,getComputedToken:u,cssVar:l}=n,d=La(()=>Object.assign({},...t),t),m=Me(d),p=Me(c),h=Me(l);return Dt(Wa,[i,e.id,m,p,h],()=>{const v=u?u(d,c,e):Ba(d,c,e,o),b={...v},x=`${i}_${l.prefix}`,w=Re(x),C=`${Da}-${w}`;b._tokenKey=Na(b,x);const[S,T]=mr(v,l.key,{prefix:l.prefix,ignore:l.ignore,unitless:l.unitless,preserve:l.preserve,hashPriority:a,hashCls:l.hashed?C:void 0});return S._hashId=w,Oa(l.key),[S,C,b,T,l.key]},([,,,,v])=>{za(v,r)},([,,,v,b])=>{if(!v)return;const x=ve(v,Re(`css-var-${b}`),{mark:B,prepend:"queue",attachTo:s,priority:-999});x[le]=r,x.setAttribute(Vt,b)})}const hn="data-ant-cssinjs-cache-path",pr="_FILE_STYLE__";let ue,gr=!0;function Ka(){if(!ue&&(ue={},fe())){const e=document.createElement("div");e.className=hn,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);let t=getComputedStyle(e).content||"";t=t.replace(/^"/,"").replace(/"$/,""),t.split(";").forEach(r=>{const[s,a]=r.split(":");ue[s]=a});const n=document.querySelector(`style[${hn}]`);n&&(gr=!1,n.parentNode?.removeChild(n)),document.body.removeChild(e)}}function Xa(e){return Ka(),!!ue[e]}function Ya(e){const t=ue[e];let n=null;if(t&&fe())if(gr)n=pr;else{const r=document.querySelector(`style[${B}="${ue[e]}"]`);r?n=r.innerHTML:delete ue[e]}return[n,t]}const Ga="_skip_check_",hr="_multi_value_";function ot(e,t){return(t?dt(Bt(e),ns([rs,Wt])):dt(Bt(e),Wt)).replace(/\{%%%\:[^;];}/g,";")}function Qa(e){return typeof e=="object"&&e&&(Ga in e||hr in e)}function yn(e,t,n="high"){if(!t)return e;const r=fr({hashCls:t,hashPriority:n});return e.split(",").map(a=>{const i=a.trim().split(/\s+/);let c=i[0]||"";const o=c.match(/^\w+/)?.[0]||"";return c=`${o}${r}${c.slice(o.length)}`,[c,...i.slice(1)].join(" ")}).join(",")}const kt=(e,t={},{root:n,injectHash:r,parentSelectors:s}={root:!0,parentSelectors:[]})=>{const{hashId:a,layer:i,path:c,hashPriority:o,transformers:u=[],linters:l=[]}=t;let d="",m={};function p(v){const b=v.getName(a);if(!m[b]){const[x]=kt(v.style,t,{root:!1,parentSelectors:s});m[b]=`@keyframes ${v.getName(a)}${x}`}}function h(v,b=[]){return v.forEach(x=>{Array.isArray(x)?h(x,b):x&&b.push(x)}),b}return h(Array.isArray(e)?e:[e]).forEach(v=>{const b=typeof v=="string"&&!n?{}:v;if(typeof b=="string")d+=`${b}
`;else if(b._keyframe)p(b);else{const x=u.reduce((w,C)=>C?.visit?.(w)||w,b);Object.keys(x).forEach(w=>{const C=x[w];if(typeof C=="object"&&C&&(w!=="animationName"||!C._keyframe)&&!Qa(C)){let S=!1,T=w.trim(),M=!1;(n||r)&&a?T.startsWith("@")?S=!0:T==="&"?T=yn("",a,o):T=yn(w,a,o):n&&!a&&(T==="&"||T==="")&&(T="",M=!0);const[R,L]=kt(C,t,{root:M,injectHash:S,parentSelectors:[...s,T]});m={...m,...L},d+=`${T}${R}`}else{let S=function(M,R){const L=M.replace(/[A-Z]/g,$=>`-${$.toLowerCase()}`);let E=R;!Fr[M]&&typeof E=="number"&&E!==0&&(E=`${E}px`),M==="animationName"&&R?._keyframe&&(p(R),E=R.getName(a)),d+=`${L}:${E};`};const T=C?.value??C;typeof C=="object"&&C?.[hr]&&Array.isArray(T)?T.forEach(M=>{S(w,M)}):Ia(T)&&S(w,T)}})}}),n?i&&(d&&(d=`@layer ${i.name} {${d}}`),i.dependencies&&(m[`@layer ${i.name}`]=i.dependencies.map(v=>`@layer ${v}, ${i.name};`).join(`
`))):d=`{${d}}`,[d,m]};function yr(e,t){return Re(`${e.join("%")}${t}`)}const Ja="style";function vn(e,t){const{path:n,hashId:r,layer:s,nonce:a,clientOnly:i,order:c=0}=e,{mock:o,hashPriority:u,container:l,transformers:d,linters:m,cache:p,layer:h,autoPrefix:y}=f.useContext(Ge),v=[r||""];h&&v.push("layer"),v.push(...n);let b=Rt;Dt(Ja,v,()=>{const x=v.join("|");if(Xa(x)){const[R,L]=Ya(x);if(R)return[R,L,{},i,c]}const w=t(),[C,S]=kt(w,{hashId:r,hashPriority:u,layer:h?s:void 0,path:n.join("-"),transformers:d,linters:m}),T=ot(C,y||!1),M=yr(v,T);return[T,M,S,i,c]},(x,w)=>{const[,C]=x;w&&Rt&&ar(C,{mark:B,attachTo:l})},x=>{const[w,C,S,,T]=x;if(b&&w!==pr){const M={mark:B,prepend:h?!1:"queue",attachTo:l,priority:T},R=typeof a=="function"?a():a;R&&(M.csp={nonce:R});const L=[],E=[];Object.keys(S).forEach(_=>{_.startsWith("@layer")?L.push(_):E.push(_)}),L.forEach(_=>{ve(ot(S[_],y||!1),`_layer-${_}`,{...M,prepend:!0})});const $=ve(w,C,M);$[le]=p.instanceId,E.forEach(_=>{ve(ot(S[_],y||!1),`_effect-${_}`,M)})}})}const ei="cssVar",ti=(e,t)=>{const{key:n,prefix:r,unitless:s,ignore:a,token:i,hashId:c,scope:o=""}=e,{cache:{instanceId:u},container:l,hashPriority:d}=f.useContext(Ge),{_tokenKey:m}=i,p=[...e.path,n,o,m];return Dt(ei,p,()=>{const y=t(),[v,b]=mr(y,n,{prefix:r,unitless:s,ignore:a,scope:o,hashPriority:d,hashCls:c}),x=yr(p,b);return[v,b,x,n]},([,,y])=>{Rt&&ar(y,{mark:B,attachTo:l})},([,y,v])=>{if(!y)return;const b=ve(y,v,{mark:B,prepend:"queue",attachTo:l,priority:-999});b[le]=u,b.setAttribute(Vt,n)})};class ni{name;style;constructor(t,n){this.name=t,this.style=n}getName(t=""){return t?`${t}-${this.name}`:this.name}_keyframe=!0}function he(e){return e.notSplit=!0,e}he(["borderTop","borderBottom"]),he(["borderTop"]),he(["borderBottom"]),he(["borderLeft","borderRight"]),he(["borderLeft"]),he(["borderRight"]);var ri=Pt(function e(){$t(this,e)}),vr="CALC_UNIT",si=new RegExp(vr,"g");function ct(e){return typeof e=="number"?"".concat(e).concat(vr):e}var ai=(function(e){zr(n,e);var t=Br(n);function n(r,s){var a;$t(this,n),a=t.call(this),z(nt(a),"result",""),z(nt(a),"unitlessCssVar",void 0),z(nt(a),"lowPriority",void 0);var i=ke(r);return a.unitlessCssVar=s,r instanceof n?a.result="(".concat(r.result,")"):i==="number"?a.result=ct(r):i==="string"&&(a.result=r),a}return Pt(n,[{key:"add",value:function(s){return s instanceof n?this.result="".concat(this.result," + ").concat(s.getResult()):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," + ").concat(ct(s))),this.lowPriority=!0,this}},{key:"sub",value:function(s){return s instanceof n?this.result="".concat(this.result," - ").concat(s.getResult()):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," - ").concat(ct(s))),this.lowPriority=!0,this}},{key:"mul",value:function(s){return this.lowPriority&&(this.result="(".concat(this.result,")")),s instanceof n?this.result="".concat(this.result," * ").concat(s.getResult(!0)):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," * ").concat(s)),this.lowPriority=!1,this}},{key:"div",value:function(s){return this.lowPriority&&(this.result="(".concat(this.result,")")),s instanceof n?this.result="".concat(this.result," / ").concat(s.getResult(!0)):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," / ").concat(s)),this.lowPriority=!1,this}},{key:"getResult",value:function(s){return this.lowPriority||s?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(s){var a=this,i=s||{},c=i.unit,o=!0;return typeof c=="boolean"?o=c:Array.from(this.unitlessCssVar).some(function(u){return a.result.includes(u)})&&(o=!1),this.result=this.result.replace(si,o?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n})(ri),ii=function(t,n){var r=ai;return function(s){return new r(s,n)}},Cn=function(t,n){return"".concat([n,t.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function bn(e,t,n,r){var s=V({},t[e]);if(r!=null&&r.deprecatedTokens){var a=r.deprecatedTokens;a.forEach(function(c){var o=qn(c,2),u=o[0],l=o[1];if(s!=null&&s[u]||s!=null&&s[l]){var d;(d=s[l])!==null&&d!==void 0||(s[l]=s?.[u])}})}var i=V(V({},n),s);return Object.keys(i).forEach(function(c){i[c]===t[c]&&delete i[c]}),i}var Cr=typeof CSSINJS_STATISTIC<"u",jt=!0;function Ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Cr)return Object.assign.apply(Object,[{}].concat(t));jt=!1;var r={};return t.forEach(function(s){if(ke(s)==="object"){var a=Object.keys(s);a.forEach(function(i){Object.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return s[i]}})})}}),jt=!0,r}var xn={};function oi(){}var ci=function(t){var n,r=t,s=oi;return Cr&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(t,{get:function(i,c){if(jt){var o;(o=n)===null||o===void 0||o.add(c)}return i[c]}}),s=function(i,c){var o;xn[i]={global:Array.from(n),component:V(V({},(o=xn[i])===null||o===void 0?void 0:o.component),c)}}),{token:r,keys:n,flush:s}};function wn(e,t,n){if(typeof n=="function"){var r;return n(Ot(t,(r=t[e])!==null&&r!==void 0?r:{}))}return n??{}}function li(e){return{max:function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return"max(".concat(r.map(function(a){return gn(a)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return"min(".concat(r.map(function(a){return gn(a)}).join(","),")")}}}var ui=1e3*60*10,di=(function(){function e(){$t(this,e),z(this,"map",new Map),z(this,"objectIDMap",new WeakMap),z(this,"nextID",0),z(this,"lastAccessBeat",new Map),z(this,"accessBeat",0)}return Pt(e,[{key:"set",value:function(n,r){this.clear();var s=this.getCompositeKey(n);this.map.set(s,r),this.lastAccessBeat.set(s,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),s=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,s}},{key:"getCompositeKey",value:function(n){var r=this,s=n.map(function(a){return a&&ke(a)==="object"?"obj_".concat(r.getObjectID(a)):"".concat(ke(a),"_").concat(a)});return s.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(s,a){r-s>ui&&(n.map.delete(a),n.lastAccessBeat.delete(a))}),this.accessBeat=0}}}]),e})(),Sn=new di;function fi(e,t){return q.useMemo(function(){var n=Sn.get(t);if(n)return n;var r=e();return Sn.set(t,r),r},t)}var mi=function(){return{}};function pi(e){var t=e.useCSP,n=t===void 0?mi:t,r=e.useToken,s=e.usePrefix,a=e.getResetStyles,i=e.getCommonStyle,c=e.getCompUnitless;function o(m,p,h,y){var v=Array.isArray(m)?m[0]:m;function b(R){return"".concat(String(v)).concat(R.slice(0,1).toUpperCase()).concat(R.slice(1))}var x=y?.unitless||{},w=typeof c=="function"?c(m):{},C=V(V({},w),{},z({},b("zIndexPopup"),!0));Object.keys(x).forEach(function(R){C[b(R)]=x[R]});var S=V(V({},y),{},{unitless:C,prefixToken:b}),T=l(m,p,h,S),M=u(v,h,S);return function(R){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R,E=T(R,L),$=M(L);return[E,$]}}function u(m,p,h){var y=h.unitless,v=h.prefixToken,b=h.ignore;return function(x){var w=r(),C=w.cssVar,S=w.realToken;return ti({path:[m],prefix:C.prefix,key:C.key,unitless:y,ignore:b,token:S,scope:x},function(){var T=wn(m,S,p),M=bn(m,S,T,{deprecatedTokens:h?.deprecatedTokens});return T&&Object.keys(T).forEach(function(R){M[v(R)]=M[R],delete M[R]}),M}),C?.key}}function l(m,p,h){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},v=Array.isArray(m)?m:[m,m],b=qn(v,1),x=b[0],w=v.join("-"),C=e.layer||{name:"antd"};return function(S){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S,M=r(),R=M.theme,L=M.realToken,E=M.hashId,$=M.token,_=M.cssVar,H=M.zeroRuntime,W=f.useMemo(function(){return H},[]);if(W)return E;var ee=s(),te=ee.rootPrefixCls,ne=ee.iconPrefixCls,_e=n(),be="css",me=fi(function(){var D=new Set;return Object.keys(y.unitless||{}).forEach(function(K){D.add(He(K,_.prefix)),D.add(He(K,Cn(x,_.prefix)))}),ii(be,D)},[be,x,_?.prefix]),Pe=li(),Z=Pe.max,Qe=Pe.min,xe={theme:R,token:$,hashId:E,nonce:function(){return _e.nonce},clientOnly:y.clientOnly,layer:C,order:y.order||-999};return typeof a=="function"&&vn(V(V({},xe),{},{clientOnly:!1,path:["Shared",te]}),function(){return a($,{prefix:{rootPrefixCls:te,iconPrefixCls:ne},csp:_e})}),vn(V(V({},xe),{},{path:[w,S,ne]}),function(){if(y.injectStyle===!1)return[];var D=ci($),K=D.token,Je=D.flush,P=wn(x,L,h),U=".".concat(S),X=bn(x,L,P,{deprecatedTokens:y.deprecatedTokens});P&&ke(P)==="object"&&Object.keys(P).forEach(function(Ht){P[Ht]="var(".concat(He(Ht,Cn(x,_.prefix)),")")});var re=Ot(K,{componentCls:U,prefixCls:S,iconCls:".".concat(ne),antCls:".".concat(te),calc:me,max:Z,min:Qe},P),pe=p(re,{hashId:E,prefixCls:S,rootPrefixCls:te,iconPrefixCls:ne});Je(x,X);var Mr=typeof i=="function"?i(re,S,T,y.resetFont):null;return[y.resetStyle===!1?null:Mr,pe]}),E}}function d(m,p,h){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},v=l(m,p,h,V({resetStyle:!1,order:-998},y)),b=function(w){var C=w.prefixCls,S=w.rootCls,T=S===void 0?C:S;return v(C,T),null};return b}return{genStyleHooks:o,genSubStyleComponent:d,genComponentStyleHook:l}}const Tn=new ni("antXBlink",{"0%":{backgroundPositionX:"-200%",backgroundPositionY:"100%"},"25%":{backgroundPositionX:"-100%",backgroundPositionY:"100%"},"50%":{backgroundPositionX:"-0%",backgroundPositionY:"100%"},"75%":{backgroundPositionX:"100%",backgroundPositionY:"100%"},"100%":{backgroundPositionX:"200%",backgroundPositionY:"100%"}}),gi=(e,t)=>{const n=t;return[Tn,{[e.componentCls]:{[n]:{backgroundClip:"text",color:e.colorTextBlinkDefault,WebkitBackgroundClip:"text",backgroundImage:`linear-gradient(90deg,transparent,${e.colorTextBlink},transparent)`,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationFillMode:"forwards",backgroundSize:"50%",backgroundRepeat:"no-repeat",animationName:Tn}}}]},hi=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),yi="2.1.3",vi=qa(mt.defaultAlgorithm),Ci={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},br=(e,t,n)=>{const r=n.getDerivativeToken(e),{override:s,...a}=t;let i={...r,override:s};return i=Kr(i),a&&Object.entries(a).forEach(([c,o])=>{const{theme:u,...l}=o;let d=l;u&&(d=br({...i,...l},{override:l},u)),i[c]=d}),i};function bi(){const{token:e,hashed:t,theme:n,override:r,cssVar:s}=q.useContext(mt._internalContext),a={prefix:s?.prefix||"ant",key:s?.key||"css-var-root"},i=n||vi,[c,o,u]=Za(i,[mt.defaultSeed,e],{salt:`${yi}-${t||""}`,override:r,getComputedToken:br,cssVar:{...a,unitless:Zr,ignore:Wr,preserve:Ci}});return[i,u,t?o:"",c,a]}const{genStyleHooks:xi}=pi({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:t}=vt();return{iconPrefixCls:t,rootPrefixCls:e()}},useToken:()=>{const[e,t,n,r,s]=bi();return{theme:e,realToken:t,hashId:n,token:r,cssVar:s}},useCSP:()=>{const{csp:e}=vt();return e??{}},layer:{name:"antdx",dependencies:["antd"]}});var Ve={},Se={},En;function wi(){if(En)return Se;En=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var e=n(qt());function t(s){if(typeof WeakMap!="function")return null;var a=new WeakMap,i=new WeakMap;return(t=function(c){return c?i:a})(s)}function n(s,a){if(s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var i=t(a);if(i&&i.has(s))return i.get(s);var c={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in s)if(u!=="default"&&Object.prototype.hasOwnProperty.call(s,u)){var l=o?Object.getOwnPropertyDescriptor(s,u):null;l&&(l.get||l.set)?Object.defineProperty(c,u,l):c[u]=s[u]}return c.default=s,i&&i.set(s,c),c}function r(s){const a=e.useRef(s);return a.current=s,e.useCallback((...c)=>a.current?.(...c),[])}return Se.default=r,Se}var ae={},De={},Mn;function Si(){if(Mn)return De;Mn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.default=e;function e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}return De}var Rn;function Ti(){if(Rn)return ae;Rn=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.useLayoutUpdateEffect=ae.default=void 0;var e=s(qt()),t=n(Si());function n(o){return o&&o.__esModule?o:{default:o}}function r(o){if(typeof WeakMap!="function")return null;var u=new WeakMap,l=new WeakMap;return(r=function(d){return d?l:u})(o)}function s(o,u){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var l=r(u);if(l&&l.has(o))return l.get(o);var d={__proto__:null},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in o)if(p!=="default"&&Object.prototype.hasOwnProperty.call(o,p)){var h=m?Object.getOwnPropertyDescriptor(o,p):null;h&&(h.get||h.set)?Object.defineProperty(d,p,h):d[p]=o[p]}return d.default=o,l&&l.set(o,d),d}const a=(0,t.default)()?e.useLayoutEffect:e.useEffect,i=(o,u)=>{const l=e.useRef(!0);a(()=>o(l.current),u),a(()=>(l.current=!1,()=>{l.current=!0}),[])},c=(o,u)=>{i(l=>{if(!l)return o()},u)};return ae.useLayoutUpdateEffect=c,ae.default=i,ae}var Oe={},kn;function Ei(){if(kn)return Oe;kn=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=r;var e=n(qt());function t(s){if(typeof WeakMap!="function")return null;var a=new WeakMap,i=new WeakMap;return(t=function(c){return c?i:a})(s)}function n(s,a){if(s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var i=t(a);if(i&&i.has(s))return i.get(s);var c={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in s)if(u!=="default"&&Object.prototype.hasOwnProperty.call(s,u)){var l=o?Object.getOwnPropertyDescriptor(s,u):null;l&&(l.get||l.set)?Object.defineProperty(c,u,l):c[u]=s[u]}return c.default=s,i&&i.set(s,c),c}function r(s){const a=e.useRef(!1),[i,c]=e.useState(s);e.useEffect(()=>(a.current=!1,()=>{a.current=!0}),[]);function o(u,l){l&&a.current||c(u)}return[i,o]}return Oe}var jn;function Mi(){if(jn)return Ve;jn=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=a;var e=r(wi()),t=Ti(),n=r(Ei());function r(i){return i&&i.__esModule?i:{default:i}}function s(i){return i!==void 0}function a(i,c){const{defaultValue:o,value:u,onChange:l,postState:d}=c||{},[m,p]=(0,n.default)(()=>s(u)?u:s(o)?typeof o=="function"?o():o:typeof i=="function"?i():i),h=u!==void 0?u:m,y=d?d(h):h,v=(0,e.default)(l),[b,x]=(0,n.default)([h]);(0,t.useLayoutUpdateEffect)(()=>{const C=b[0];m!==C&&v(m,C)},[b]),(0,t.useLayoutUpdateEffect)(()=>{s(u)||p(u)},[u]);const w=(0,e.default)((C,S)=>{p(C,S),x([h],S)});return[y,w]}return Ve}var Ri=Mi();const ki=$n(Ri),lt=()=>({height:0,opacity:0}),_n=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},ji=e=>({height:e?e.offsetHeight:0}),ut=(e,t)=>t?.deadline===!0||t.propertyName==="height",_i=(e=aa)=>({motionName:`${e}-motion-collapse`,onAppearStart:lt,onEnterStart:lt,onAppearActive:_n,onEnterActive:_n,onLeaveStart:ji,onLeaveActive:lt,onAppearEnd:ut,onEnterEnd:ut,onLeaveEnd:ut,motionDeadline:500}),Pi=()=>q.createElement("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",width:"1em",height:"1em",role:"img","aria-label":"think"},q.createElement("symbol",{id:"icon-think",viewBox:"0 0 1024 1024"},q.createElement("path",{d:"M847.936 168.448c65.088 65.664 46.144 198.528-36.224 337.536 88.128 143.04 109.824 281.408 43.008 348.8-66.56 67.072-202.688 45.696-343.808-41.984-141.12 87.68-277.248 109.056-343.808 41.984-66.816-67.392-45.056-205.76 43.008-348.8-82.368-139.008-101.248-271.872-36.16-337.536 65.408-65.92 198.336-46.336 336.96 37.76l9.728-5.76c135.104-79.232 263.36-96.448 327.296-32zM249.088 565.568l-2.24 4.16a536.704 536.704 0 0 0-38.272 85.696c-28.928 85.888-16.128 134.144 3.584 153.984 19.712 19.776 67.52 32.768 152.704 3.584a531.84 531.84 0 0 0 87.616-40.064c-35.84-26.816-71.488-57.664-105.792-92.288a950.4 950.4 0 0 1-97.6-115.072z m523.648 0.064l-2.56 3.584c-27.392 37.76-59.2 75.328-94.976 111.424a951.744 951.744 0 0 1-105.856 92.288c30.336 17.088 59.904 30.528 87.68 40.064 85.12 29.184 132.992 16.192 152.64-3.584 19.712-19.84 32.576-68.096 3.584-153.984a541.824 541.824 0 0 0-40.512-89.792z m-261.76-283.2l-17.664 12.416c-36.352 26.24-72.96 57.472-108.416 93.184a878.208 878.208 0 0 0-99.008 118.656c28.8 42.88 64.128 86.528 105.792 128.512a874.24 874.24 0 0 0 119.232 100.928 875.84 875.84 0 0 0 119.232-100.928 871.232 871.232 0 0 0 105.728-128.448 868.224 868.224 0 0 0-98.944-118.72 867.136 867.136 0 0 0-126.016-105.6z m3.2 105.472a11.52 11.52 0 0 1 7.808 7.808l7.232 24.512c10.432 35.2 37.888 62.72 73.088 73.152l24.192 7.168a11.52 11.52 0 0 1 0.064 22.144l-24.704 7.424A108.288 108.288 0 0 0 529.28 603.008l-7.296 24.576a11.52 11.52 0 0 1-22.144 0l-7.296-24.576a108.288 108.288 0 0 0-72.576-72.96l-24.704-7.36a11.52 11.52 0 0 1 0-22.144l24.32-7.168c35.136-10.432 62.592-37.952 73.024-73.152l7.232-24.512a11.52 11.52 0 0 1 14.336-7.808z m136.064-177.664a522.496 522.496 0 0 0-79.872 35.776c37.76 27.84 75.456 60.16 111.552 96.64a956.16 956.16 0 0 1 89.856 104.32c14.656-27.392 26.24-54.016 34.688-79.168 28.928-85.888 16.064-134.08-3.52-153.984-19.712-19.776-67.52-32.768-152.704-3.584z m-431.36 3.584c-19.584 19.84-32.512 68.096-3.52 153.984 8.512 25.152 20.096 51.776 34.688 79.168 26.24-35.392 56.32-70.528 89.856-104.32a948.224 948.224 0 0 1 111.616-96.64 514.816 514.816 0 0 0-79.936-35.776c-85.12-29.184-132.928-16.192-152.64 3.584z"})),q.createElement("use",{xlinkHref:"#icon-think"})),$i=q.forwardRef((e,t)=>q.createElement(ka,pt({component:Pi,ref:t},e))),qi=e=>{const{componentCls:t,paddingXS:n,paddingSM:r,marginSM:s,colorTextSecondary:a,colorTextDescription:i,fontSize:c,fontSizeHeading5:o,fontSizeSM:u,lineHeight:l,colorBorder:d,lineWidth:m,calc:p}=e;return{[t]:{[`${t}-status-wrapper`]:{width:"fit-content",display:"flex",flexDirection:"row",gridGap:n,alignItems:"center",fontSize:c,color:a,lineHeight:l,cursor:"pointer"},[`${t}-status-icon`]:{fontSize:o,display:"flex"},[`${t}-status-text`]:{lineHeight:e.lineHeight,fontSize:e.fontSize},[`${t}-status-down-icon`]:{fontSize:u,svg:{transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`}},[`${t}-content`]:{marginTop:s,width:"100%",color:i,paddingInlineStart:r,borderInlineStart:`${p(m).mul(2).equal()} solid ${d}`},[`&${t}-rtl`]:{direction:"rtl"}}}},Ai=e=>{const{colorTextDescription:t,colorTextBase:n}=e;return{colorTextBlinkDefault:t,colorTextBlink:n}},Li=xi("Think",e=>{const t=Ot(e,{}),{componentCls:n}=e;return[qi(t),hi(t),gi(t,`${n}-motion-blink`)]},Ai),Ni=({loading:e,icon:t})=>e?e===!0?q.createElement(Ea,null):e:t||q.createElement($i,null),Ii=q.forwardRef((e,t)=>{const{prefixCls:n,style:r,styles:s={},className:a,rootClassName:i,classNames:c={},children:o,title:u,icon:l,loading:d,defaultExpanded:m=!0,expanded:p,onExpand:h,blink:y,...v}=e,{direction:b,getPrefixCls:x}=vt(),w=x("think",n),[C,S]=Li(w),T=sa("think"),M=ea(v,{attr:!0,aria:!0,data:!0}),R=q.useRef(null);ta(t,()=>({nativeElement:R.current}));const L=Q(w,T.className,a,i,c.root,C,S,{[`${w}-rtl`]:b==="rtl"}),[E,$]=ki(m,{value:p,onChange:h}),_={..._i(),motionAppear:!1,leavedClassName:`${w}-content-hidden`};return q.createElement("div",pt({ref:R},M,{className:L,style:{...T.style,...T.styles.root,...r,...s.root}}),q.createElement("div",{className:Q(`${w}-status-wrapper`,c.status),onClick:()=>$(!E),style:s.status},q.createElement("div",{className:`${w}-status-icon`},q.createElement(Ni,{loading:d,icon:l})),q.createElement("div",{className:Q(`${w}-status-text`,{[`${w}-motion-blink`]:y})},u),q.createElement(Ra,{className:`${w}-status-down-icon`,rotate:E?90:0})),q.createElement(Gs,pt({},_,{visible:E}),({className:H,style:W},ee)=>q.createElement("div",{className:Q(`${w}-content`,H,c.content),ref:ee,style:{...W,...s.content}},o)))}),Ui=e=>f.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},f.createElement("path",{d:"M9.80022 0.000346623C10.3956 -0.0083669 10.97 0.146298 11.3912 0.566726C11.8123 0.987879 11.9677 1.56297 11.9583 2.1584C11.9496 2.75164 11.7782 3.41387 11.4935 4.09352C11.2145 4.7429 10.8741 5.36414 10.477 5.94878C10.9214 6.60592 11.2793 7.25436 11.5349 7.86575C11.8196 8.54541 11.9902 9.20764 11.9997 9.80088C12.0084 10.3963 11.853 10.9707 11.4326 11.3911C11.0114 11.8123 10.4363 11.9684 9.84088 11.9589C9.24763 11.9502 8.58613 11.7789 7.90575 11.4942C7.29726 11.2401 6.65318 10.8843 5.99894 10.4428C5.34543 10.8843 4.70135 11.2401 4.09286 11.4942C3.4132 11.7789 2.75097 11.9502 2.15773 11.9589C1.5623 11.9684 0.987938 11.8123 0.566784 11.3918C0.14563 10.9707 -0.00903481 10.3963 0.000404838 9.80088C0.00911836 9.20691 0.179032 8.54541 0.463674 7.86575C0.719271 7.25436 1.0758 6.60592 1.52019 5.94878C1.12348 5.36412 0.783555 4.74287 0.505063 4.09352C0.220421 3.41387 0.0505076 2.75164 0.041068 2.1584C0.0323545 1.56297 0.186293 0.988605 0.607447 0.567452C1.0286 0.146298 1.60369 -0.00836689 2.19912 0.00107276C2.79236 0.00978629 3.45387 0.1797 4.13425 0.464342C4.72967 0.713403 5.35922 1.05831 5.99894 1.486C6.63866 1.05759 7.26966 0.713403 7.86509 0.464342C8.54474 0.1797 9.20624 0.00978628 9.80022 0.000346623ZM2.20638 6.89057C1.9225 7.33469 1.67575 7.80148 1.46863 8.28618C1.21667 8.88887 1.09468 9.40805 1.08814 9.81686C1.08233 10.2235 1.18835 10.4733 1.33648 10.6214C1.48533 10.7695 1.73585 10.8756 2.14175 10.8697C2.55056 10.8639 3.06974 10.7419 3.67243 10.49C4.15456 10.2835 4.61891 10.0377 5.06078 9.75514C4.53958 9.34105 4.04257 8.89738 3.57222 8.42632C3.0712 7.9253 2.61374 7.40829 2.20638 6.89057ZM9.7915 6.89057C8.95508 7.9533 7.99736 8.91467 6.93782 9.75514C7.4207 10.0601 7.88905 10.307 8.32618 10.49C8.92886 10.7419 9.44877 10.8639 9.85758 10.8697C10.2642 10.8763 10.514 10.7703 10.6621 10.6214C10.8103 10.4733 10.9163 10.2235 10.9105 9.81686C10.9039 9.40805 10.7819 8.88814 10.53 8.28618C10.3226 7.80147 10.0756 7.33468 9.7915 6.89057ZM5.99894 2.82208C5.39911 3.27502 4.83182 3.76951 4.30126 4.30192C3.78316 4.81841 3.30086 5.36961 2.85772 5.95168C3.31201 6.55419 3.80822 7.12392 4.34264 7.65663C4.86105 8.1765 5.41444 8.66026 5.99894 9.10453C6.5508 8.687 7.10992 8.20268 7.65596 7.65663C8.18989 7.12387 8.68561 6.55414 9.13944 5.95168C8.69678 5.36964 8.21497 4.81845 7.69735 4.30192C7.13824 3.74281 6.56459 3.24686 5.99894 2.82208ZM2.18242 1.08881C1.77579 1.083 1.526 1.18902 1.37787 1.33715C1.22974 1.486 1.12372 1.73579 1.12953 2.14242C1.13607 2.55123 1.25806 3.07041 1.51002 3.6731C1.68647 4.09498 1.92174 4.54445 2.21074 5.00917C2.62264 4.4922 3.06362 3.99909 3.53156 3.53223C4.01281 3.05013 4.52198 2.59673 5.05643 2.17437C4.5888 1.88319 4.13715 1.64648 3.71309 1.4693C3.11041 1.21734 2.59123 1.09535 2.18242 1.08881ZM9.81619 1.08881C9.40738 1.09607 8.88748 1.21734 8.28552 1.4693C7.86146 1.64648 7.40908 1.88319 6.94218 2.17365C7.47661 2.59602 7.98578 3.04942 8.46705 3.5315C8.93477 3.99886 9.37552 4.49245 9.78715 5.0099C10.0761 4.54518 10.3136 4.0957 10.49 3.67382C10.742 3.07114 10.864 2.55196 10.8698 2.14315C10.8763 1.73652 10.7703 1.48673 10.6215 1.33787C10.4733 1.18974 10.2235 1.08373 9.81692 1.08954L9.81619 1.08881Z"}));function Vi({title:e,icon:t,loading:n,children:r,type:s}){return g.jsx(Ii,{title:e,icon:t||g.jsx(J,{component:Ui,className:"!text-sm"}),loading:n,blink:n,className:je("fea-message-think",{"fea-message-think-deep-seek":s==="deepSeek"}),children:r})}Vi.__docgenInfo={description:"",methods:[],displayName:"MessageThink",props:{title:{required:!0,tsType:{name:"string"},description:""},icon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},type:{required:!1,tsType:{name:"literal",value:"'deepSeek'"},description:""}}};var Fe=(e=>(e.SYSTEM="system",e))(Fe||{}),Di=(e=>(e.PENDING="pending",e.STREAMING="streaming",e.DONE="done",e.ERROR="error",e))(Di||{});function Oi(e){const{messages:t,renderMessage:n,renderMessageOfSystem:r,renderMessageOfUser:s,renderMessageOfAI:a}=e,i=f.useRef(null),c=f.useMemo(()=>t?.[t.length-1],[t]);return f.useEffect(()=>{if(!c?.uuid)return;const o=document.querySelector(`[data-uuid="${c.uuid}"]`);o&&o.scrollIntoView({behavior:"smooth"})},[c?.uuid]),f.useEffect(()=>{if(!c?.updatedAt||!c?.uuid||!i.current)return;const o=document.querySelector(`[data-uuid="${c.uuid}"]`);if(!o)return;const{top:u,bottom:l}=i.current.getBoundingClientRect(),{top:d,bottom:m}=o.getBoundingClientRect();d<l&&m>u&&o.scrollIntoView({behavior:"smooth"})},[c?.updatedAt,c?.uuid]),g.jsx(Pn,{children:g.jsx("div",{ref:i,className:"flex h-full flex-col overflow-y-auto",children:t?.map(o=>g.jsx("div",{"data-uuid":o.uuid,className:"flex flex-col",children:n?n?.({message:o}):g.jsxs(g.Fragment,{children:[o.type===Fe.SYSTEM&&o.system&&g.jsx("div",{className:"flex justify-center",children:r?.({message:o})}),o.type!==Fe.SYSTEM&&o.user&&g.jsx("div",{className:"flex justify-end",children:s?.({message:o})}),o.type!==Fe.SYSTEM&&o.ai&&g.jsx("div",{className:"flex justify-start",children:a?.({message:o})})]})},o.uuid))})})}Oi.__docgenInfo={description:"",methods:[],displayName:"Messages",props:{messages:{required:!1,tsType:{name:"Array",elements:[{name:"ChatMessage",elements:[{name:"AIData"}],raw:"ChatMessage<AIData>"}],raw:"ChatMessage<AIData>[]"},description:""},renderMessage:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: { message: ChatMessage<AIData> }) => React.ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ message: ChatMessage<AIData> }",signature:{properties:[{key:"message",value:{name:"ChatMessage",elements:[{name:"AIData"}],raw:"ChatMessage<AIData>",required:!0}}]}},name:"props"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"含所有"},renderMessageOfSystem:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: { message: ChatMessage<AIData> }) => React.ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ message: ChatMessage<AIData> }",signature:{properties:[{key:"message",value:{name:"ChatMessage",elements:[{name:"AIData"}],raw:"ChatMessage<AIData>",required:!0}}]}},name:"props"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"系统消息"},renderMessageOfUser:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: { message: ChatMessage<AIData> }) => React.ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ message: ChatMessage<AIData> }",signature:{properties:[{key:"message",value:{name:"ChatMessage",elements:[{name:"AIData"}],raw:"ChatMessage<AIData>",required:!0}}]}},name:"props"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"用户消息"},renderMessageOfAI:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: { message: ChatMessage<AIData> }) => React.ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ message: ChatMessage<AIData> }",signature:{properties:[{key:"message",value:{name:"ChatMessage",elements:[{name:"AIData"}],raw:"ChatMessage<AIData>",required:!0}}]}},name:"props"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"AI消息"}}};const Hi=e=>f.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},f.createElement("path",{d:"M17.3977 3.9588C15.8361 2.39727 13.3037 2.39727 11.7422 3.9588L5.03365 10.6673C2.60612 13.0952 2.60612 17.0314 5.03365 19.4592C7.46144 21.887 11.3983 21.8875 13.8262 19.4599L20.5348 12.7514C20.8472 12.439 21.3534 12.439 21.6658 12.7514C21.9781 13.0638 21.9782 13.5701 21.6658 13.8825L14.9573 20.591C11.9046 23.6435 6.95518 23.6429 3.90255 20.5903C0.850191 17.5377 0.850191 12.5889 3.90255 9.53624L10.6111 2.82771C12.7975 0.641334 16.3424 0.641334 18.5288 2.82771C20.7149 5.01409 20.7151 8.55906 18.5288 10.7454L11.8699 17.4042C10.5369 18.7372 8.37542 18.7365 7.04241 17.4035C5.70963 16.0705 5.7095 13.9096 7.04241 12.5767L13.7012 5.91785C14.0136 5.60547 14.5199 5.60557 14.8323 5.91785C15.1447 6.23027 15.1447 6.73652 14.8323 7.04894L8.1735 13.7078C7.46543 14.4159 7.46556 15.5642 8.1735 16.2724C8.88167 16.9806 10.03 16.9806 10.7381 16.2724L17.397 9.61358C18.9584 8.05211 18.959 5.52035 17.3977 3.9588Z",fill:"currentColor"}));function xr(e){const{value:t,refUpload:n,fileUrls:r,setFileUrls:s,allowUpload:a}=e,{filesMaxCount:i}=a||{},{message:c}=An.useApp(),{t:o}=Ze(),[u,l]=f.useState(""),[d,m]=f.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsx(Yr,{trigger:["click"],placement:"topLeft",menu:{items:[{key:"add-file",label:o("@fe-free/ai.sender.addImageOrFile","添加图片或文件"),icon:g.jsx(J,{component:Hi}),onClick:()=>{n.current?.click()}},{key:"add-file-url",label:o("@fe-free/ai.sender.addFileUrl","添加文件URL"),icon:g.jsx(J,{component:Qr}),onClick:()=>{l(""),m(!0)}}]},children:g.jsx(de,{shape:"circle",icon:g.jsx(J,{component:Gr,className:"!text-lg"})})}),d&&g.jsx(Jr,{title:o("@fe-free/ai.sender.addFileUrl","添加文件URL"),open:!0,onCancel:()=>m(!1),onOk:()=>{if(i&&t?.files&&t.files.length>=i){c.warning(o("@fe-free/ai.sender.exceedMaxUploadCount","超过最大上传数量{count}",{count:i}));return}u.trim()&&s([...r,u]),m(!1)},children:g.jsx(_t.TextArea,{placeholder:o("@fe-free/ai.sender.pleaseEnterFileUrl","请输入文件URL"),value:u,onChange:p=>l(p.target.value)})})]})}function wr(e){const{allowUpload:t,refUpload:n,fileList:r,setFileList:s,uploadMaxCount:a}=e,{uploadAction:i,filesMaxCount:c}=t||{},{message:o}=An.useApp(),{t:u}=Ze();return g.jsx(Xr.Dragger,{action:i,fileList:r,multiple:!0,pastable:!0,maxCount:a?a+1:void 0,onChange:l=>{if(a&&l.fileList.length>a){o.warning(u("@fe-free/ai.sender.exceedMaxUploadCount","超过最大上传数量{count}",{count:c})),s(l.fileList.slice(-a));return}s(l.fileList)},children:g.jsx("div",{ref:n,children:u("@fe-free/ai.sender.dragFileHere","在此处拖放文件")})})}function Fi({file:e,onDelete:t}){const n=ft.isImage(e.name),r=e.response?.data?.url;return g.jsxs("div",{className:"group relative",children:[n?g.jsx(ze,{url:URL.createObjectURL(e.originFileObj),isImage:n}):g.jsx(ze,{url:e.name}),!r&&g.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-01/80",children:[(e.percent??0).toFixed(0),"%"]}),g.jsx(Ln,{className:"absolute right-1 top-1 hidden cursor-pointer rounded-full bg-04 text-white group-hover:block",onClick:t})]})}function zi({url:e,onDelete:t}){return g.jsxs("div",{className:"group relative",children:[g.jsx("div",{className:"flex h-[60px] w-[250px] items-center rounded bg-01 px-2",children:g.jsx("div",{className:"line-clamp-2",children:e})}),g.jsx(Ln,{className:"absolute right-1 top-1 hidden cursor-pointer rounded-full bg-04 text-white group-hover:block",onClick:t})]})}function Sr(e){const{fileList:t,setFileList:n,fileUrls:r,setFileUrls:s}=e;return g.jsx(g.Fragment,{children:(t&&t.length>0||r&&r.length>0)&&g.jsxs("div",{className:"scrollbar-hide mb-2 flex gap-2 overflow-x-auto",children:[t.map(a=>g.jsx(Fi,{file:a,onDelete:()=>{n(t.filter(i=>i.uid!==a.uid))}},a.uid)),r.map(a=>g.jsx(zi,{url:a,onDelete:()=>{s(r.filter(i=>i!==a))}},a))]})})}xr.__docgenInfo={description:"",methods:[],displayName:"FileAction",props:{value:{required:!1,tsType:{name:"SenderValue"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: SenderValue) => void",signature:{arguments:[{type:{name:"SenderValue"},name:"value"}],return:{name:"void"}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: SenderValue) => void | Promise<void>",signature:{arguments:[{type:{name:"SenderValue"},name:"value"}],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},allowUpload:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /** 上传文件的接口地址，约定返回的 {data: {url: string}} */
  uploadAction?: string;
  /** files 最大数量 */
  filesMaxCount?: number;
}`,signature:{properties:[{key:"uploadAction",value:{name:"string",required:!1},description:"上传文件的接口地址，约定返回的 {data: {url: string}}"},{key:"filesMaxCount",value:{name:"number",required:!1},description:"files 最大数量"}]}},description:""},allowSpeech:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /** 是否正在录音 */
  recording?: boolean;
  /** 录音状态变化时回调 */
  onRecordingChange?: (recording: boolean) => void;
}`,signature:{properties:[{key:"recording",value:{name:"boolean",required:!1},description:"是否正在录音"},{key:"onRecordingChange",value:{name:"signature",type:"function",raw:"(recording: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"recording"}],return:{name:"void"}},required:!1},description:"录音状态变化时回调"}]}},description:"是否允许语音输入"},refUpload:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLDivElement"}],raw:"RefObject<HTMLDivElement>"},description:""},fileUrls:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},setFileUrls:{required:!0,tsType:{name:"signature",type:"function",raw:"(fileUrls: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"fileUrls"}],return:{name:"void"}}},description:""}}};Sr.__docgenInfo={description:"",methods:[],displayName:"Files",props:{value:{required:!1,tsType:{name:"SenderValue"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: SenderValue) => void",signature:{arguments:[{type:{name:"SenderValue"},name:"value"}],return:{name:"void"}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: SenderValue) => void | Promise<void>",signature:{arguments:[{type:{name:"SenderValue"},name:"value"}],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},allowUpload:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /** 上传文件的接口地址，约定返回的 {data: {url: string}} */
  uploadAction?: string;
  /** files 最大数量 */
  filesMaxCount?: number;
}`,signature:{properties:[{key:"uploadAction",value:{name:"string",required:!1},description:"上传文件的接口地址，约定返回的 {data: {url: string}}"},{key:"filesMaxCount",value:{name:"number",required:!1},description:"files 最大数量"}]}},description:""},allowSpeech:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /** 是否正在录音 */
  recording?: boolean;
  /** 录音状态变化时回调 */
  onRecordingChange?: (recording: boolean) => void;
}`,signature:{properties:[{key:"recording",value:{name:"boolean",required:!1},description:"是否正在录音"},{key:"onRecordingChange",value:{name:"signature",type:"function",raw:"(recording: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"recording"}],return:{name:"void"}},required:!1},description:"录音状态变化时回调"}]}},description:"是否允许语音输入"},fileList:{required:!0,tsType:{name:"Array",elements:[{name:"UploadFile"}],raw:"UploadFile[]"},description:""},setFileList:{required:!0,tsType:{name:"signature",type:"function",raw:"(fileList: UploadFile[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"UploadFile"}],raw:"UploadFile[]"},name:"fileList"}],return:{name:"void"}}},description:""},fileUrls:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},setFileUrls:{required:!0,tsType:{name:"signature",type:"function",raw:"(fileUrls: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"fileUrls"}],return:{name:"void"}}},description:""}}};wr.__docgenInfo={description:"",methods:[],displayName:"FileUpload",props:{value:{required:!1,tsType:{name:"SenderValue"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: SenderValue) => void",signature:{arguments:[{type:{name:"SenderValue"},name:"value"}],return:{name:"void"}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: SenderValue) => void | Promise<void>",signature:{arguments:[{type:{name:"SenderValue"},name:"value"}],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},allowUpload:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /** 上传文件的接口地址，约定返回的 {data: {url: string}} */
  uploadAction?: string;
  /** files 最大数量 */
  filesMaxCount?: number;
}`,signature:{properties:[{key:"uploadAction",value:{name:"string",required:!1},description:"上传文件的接口地址，约定返回的 {data: {url: string}}"},{key:"filesMaxCount",value:{name:"number",required:!1},description:"files 最大数量"}]}},description:""},allowSpeech:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /** 是否正在录音 */
  recording?: boolean;
  /** 录音状态变化时回调 */
  onRecordingChange?: (recording: boolean) => void;
}`,signature:{properties:[{key:"recording",value:{name:"boolean",required:!1},description:"是否正在录音"},{key:"onRecordingChange",value:{name:"signature",type:"function",raw:"(recording: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"recording"}],return:{name:"void"}},required:!1},description:"录音状态变化时回调"}]}},description:"是否允许语音输入"},refUpload:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLDivElement"}],raw:"RefObject<HTMLDivElement>"},description:""},fileList:{required:!0,tsType:{name:"Array",elements:[{name:"UploadFile"}],raw:"UploadFile[]"},description:""},setFileList:{required:!0,tsType:{name:"signature",type:"function",raw:"(fileList: UploadFile[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"UploadFile"}],raw:"UploadFile[]"},name:"fileList"}],return:{name:"void"}}},description:""},uploadMaxCount:{required:!1,tsType:{name:"number"},description:""}}};function Tr(e){const{allowSpeech:t}=e,{recording:n,onRecordingChange:r}=t||{};return n?g.jsx(de,{type:"text",shape:"circle",onClick:()=>r?.(!1),children:g.jsx(At,{count:4,color:"primary"})}):g.jsx(de,{type:"text",shape:"circle",icon:g.jsx(es,{className:"!text-lg"}),onClick:()=>r?.(!0)})}Tr.__docgenInfo={description:"",methods:[],displayName:"RecordAction",props:{value:{required:!1,tsType:{name:"SenderValue"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: SenderValue) => void",signature:{arguments:[{type:{name:"SenderValue"},name:"value"}],return:{name:"void"}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: SenderValue) => void | Promise<void>",signature:{arguments:[{type:{name:"SenderValue"},name:"value"}],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},allowUpload:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /** 上传文件的接口地址，约定返回的 {data: {url: string}} */
  uploadAction?: string;
  /** files 最大数量 */
  filesMaxCount?: number;
}`,signature:{properties:[{key:"uploadAction",value:{name:"string",required:!1},description:"上传文件的接口地址，约定返回的 {data: {url: string}}"},{key:"filesMaxCount",value:{name:"number",required:!1},description:"files 最大数量"}]}},description:""},allowSpeech:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /** 是否正在录音 */
  recording?: boolean;
  /** 录音状态变化时回调 */
  onRecordingChange?: (recording: boolean) => void;
}`,signature:{properties:[{key:"recording",value:{name:"boolean",required:!1},description:"是否正在录音"},{key:"onRecordingChange",value:{name:"signature",type:"function",raw:"(recording: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"recording"}],return:{name:"void"}},required:!1},description:"录音状态变化时回调"}]}},description:"是否允许语音输入"}}};function Er(e){const{refText:t,loading:n,onSubmit:r,value:s,onChange:a,refUpload:i,isUploading:c,setFileList:o,fileUrls:u,setFileUrls:l,allowUpload:d,allowSpeech:m}=e,p=n||c,h=f.useCallback(async()=>{if(p||m?.recording)return;const y={...s,text:s?.text?.trim()};(y.text||y.files&&y.files.length>0)&&(await Promise.resolve(r?.(y)),o([]),l([]),a?.({}),t.current?.focus())},[p,m?.recording,s,r,o,l,a,t]);return g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"flex flex-1 gap-1",children:d&&g.jsx(xr,{...e,refUpload:i,fileUrls:u,setFileUrls:l})}),g.jsx(ts,{type:"vertical"}),g.jsxs("div",{className:"flex items-center gap-2",children:[m&&g.jsx(Tr,{...e}),g.jsx(de,{type:"primary",shape:"circle",icon:g.jsx(J,{component:In,className:"!text-lg"}),loading:p,onClick:h})]})]})}Er.__docgenInfo={description:"",methods:[],displayName:"Actions",props:{value:{required:!1,tsType:{name:"SenderValue"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: SenderValue) => void",signature:{arguments:[{type:{name:"SenderValue"},name:"value"}],return:{name:"void"}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: SenderValue) => void | Promise<void>",signature:{arguments:[{type:{name:"SenderValue"},name:"value"}],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},allowUpload:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /** 上传文件的接口地址，约定返回的 {data: {url: string}} */
  uploadAction?: string;
  /** files 最大数量 */
  filesMaxCount?: number;
}`,signature:{properties:[{key:"uploadAction",value:{name:"string",required:!1},description:"上传文件的接口地址，约定返回的 {data: {url: string}}"},{key:"filesMaxCount",value:{name:"number",required:!1},description:"files 最大数量"}]}},description:""},allowSpeech:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /** 是否正在录音 */
  recording?: boolean;
  /** 录音状态变化时回调 */
  onRecordingChange?: (recording: boolean) => void;
}`,signature:{properties:[{key:"recording",value:{name:"boolean",required:!1},description:"是否正在录音"},{key:"onRecordingChange",value:{name:"signature",type:"function",raw:"(recording: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"recording"}],return:{name:"void"}},required:!1},description:"录音状态变化时回调"}]}},description:"是否允许语音输入"},refText:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLTextAreaElement"}],raw:"RefObject<HTMLTextAreaElement>"},description:""},refUpload:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLDivElement"}],raw:"RefObject<HTMLDivElement>"},description:""},isUploading:{required:!0,tsType:{name:"boolean"},description:""},fileList:{required:!0,tsType:{name:"Array",elements:[{name:"UploadFile"}],raw:"UploadFile[]"},description:""},setFileList:{required:!0,tsType:{name:"signature",type:"function",raw:"(fileList: UploadFile[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"UploadFile"}],raw:"UploadFile[]"},name:"fileList"}],return:{name:"void"}}},description:""},fileUrls:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},setFileUrls:{required:!0,tsType:{name:"signature",type:"function",raw:"(fileUrls: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"fileUrls"}],return:{name:"void"}}},description:""}}};function Bi(e){const{value:t,onChange:n,placeholder:r,refText:s}=e;return g.jsx(_t.TextArea,{ref:s,value:t?.text,onChange:a=>{n?.({...t,text:a.target.value})},placeholder:r,autoSize:{minRows:2,maxRows:8},className:"mb-1 px-1 py-0",variant:"borderless"})}function Wi(e){const{t}=Ze(),n=f.useMemo(()=>({placeholder:e.placeholder??t("@fe-free/ai.sender.describeYourQuestion","描述你的问题"),...e}),[e,t]),r=f.useRef(null),{value:s,onChange:a,allowUpload:i}=n,{filesMaxCount:c}=i||{},o=f.useRef(null),u=f.useRef(null),[l,d]=f.useState(!1);ss(o,{onDragEnter:()=>{d(!0)},onDragLeave:()=>{d(!1)},onDrop:()=>{d(!1)}});const[m,p]=f.useState([]),[h,y]=f.useState([]),v=f.useCallback(({fileUrls:C,fileList:S})=>{a?.({...s,files:[...S.map(T=>T.response?.data?.url)||[],...C]})},[s,a]),b=f.useCallback(C=>{p(C),v({fileUrls:C,fileList:h})},[h,v]),x=f.useCallback(C=>{y(C),v({fileUrls:m,fileList:C})},[m,v]),w=f.useMemo(()=>h.some(C=>!C.response?.data?.url),[h]);return g.jsxs("div",{className:"fea-sender-wrap",children:[g.jsxs("div",{ref:o,className:je("fea-sender relative flex flex-col rounded-xl border border-01 bg-white p-2",{"fea-sender-drag-hover":l}),children:[g.jsx(Sr,{...n,fileList:h,setFileList:x,fileUrls:m,setFileUrls:b}),g.jsx("div",{className:"flex",children:g.jsx(Bi,{...n,refText:r})}),g.jsx(Er,{...n,refText:r,refUpload:u,isUploading:w,fileList:h,setFileList:x,fileUrls:m,setFileUrls:b}),g.jsx(wr,{...n,refUpload:u,fileList:h,setFileList:x,uploadMaxCount:c?c-m.length:void 0})]}),g.jsx("div",{className:"mt-1 text-center text-xs text-03",children:t("@fe-free/ai.sender.aiGeneratedDisclaimer","内容由 AI 生成，无法确保信息的真实准确，仅供参考")})]})}Wi.__docgenInfo={description:"",methods:[],displayName:"Sender",props:{value:{required:!1,tsType:{name:"SenderValue"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: SenderValue) => void",signature:{arguments:[{type:{name:"SenderValue"},name:"value"}],return:{name:"void"}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value?: SenderValue) => void | Promise<void>",signature:{arguments:[{type:{name:"SenderValue"},name:"value"}],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},allowUpload:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /** 上传文件的接口地址，约定返回的 {data: {url: string}} */
  uploadAction?: string;
  /** files 最大数量 */
  filesMaxCount?: number;
}`,signature:{properties:[{key:"uploadAction",value:{name:"string",required:!1},description:"上传文件的接口地址，约定返回的 {data: {url: string}}"},{key:"filesMaxCount",value:{name:"number",required:!1},description:"files 最大数量"}]}},description:""},allowSpeech:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /** 是否正在录音 */
  recording?: boolean;
  /** 录音状态变化时回调 */
  onRecordingChange?: (recording: boolean) => void;
}`,signature:{properties:[{key:"recording",value:{name:"boolean",required:!1},description:"是否正在录音"},{key:"onRecordingChange",value:{name:"signature",type:"function",raw:"(recording: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"recording"}],return:{name:"void"}},required:!1},description:"录音状态变化时回调"}]}},description:"是否允许语音输入"}}};export{as as C,Di as E,os as F,Cs as M,Wi as S,Vi as a,Fe as b,Oi as c,Xi as g};
